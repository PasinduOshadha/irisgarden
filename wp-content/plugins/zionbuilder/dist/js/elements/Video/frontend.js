!function(){var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){var i;t.g.importScripts&&(i=t.g.location+"");var o=t.g.document;if(!i&&o&&(o.currentScript&&(i=o.currentScript.src),!i)){var e=o.getElementsByTagName("script");e.length&&(i=e[e.length-1].src)}if(!i)throw new Error("Automatic publicPath is not supported in this browser");i=i.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=i+"../../../"}(),t.p=window.zionBuilderPaths.zionbuilder,function(){"use strict";class t{constructor(t){this.isInit=!1,this.domNode=t,this.options=this.getConfig();const i=this.domNode.closest(".zb-modal");i?(i.addEventListener("openModal",(()=>{this.isInit?this.play():this.init()})),i.addEventListener("closeModal",(()=>{this.pause()}))):this.init()}destroy(){var t;const i=null===(t=this.domNode)||void 0===t?void 0:t.querySelector(".zb-el-video-element");i&&i.parentElement&&i.parentElement.removeChild(i)}play(){this.youtubePlayer?this.youtubePlayer.playVideo():this.html5Player?this.html5Player.play():this.vimeoPlayer&&this.vimeoPlayer.play()}pause(){this.youtubePlayer?this.youtubePlayer.pauseVideo():this.html5Player?this.html5Player.pause():this.vimeoPlayer&&this.vimeoPlayer.pause()}init(){this.options.use_image_overlay?this.initBackdrop():this.initVideo()}initBackdrop(){var t;const i=null===(t=this.domNode)||void 0===t?void 0:t.querySelector(".zb-el-zionVideo-overlay");null==i||i.addEventListener("click",(()=>{var t;this.initVideo(),null===(t=i.parentElement)||void 0===t||t.removeChild(i)}))}initVideo(){var t,i,o,e,n,s;this.isInit||("youtube"===(null===(i=null===(t=this.options)||void 0===t?void 0:t.video_config)||void 0===i?void 0:i.videoSource)?this.initYoutube():"local"===(null===(e=null===(o=this.options)||void 0===o?void 0:o.video_config)||void 0===e?void 0:e.videoSource)?this.initHTML5():"vimeo"===(null===(s=null===(n=this.options)||void 0===n?void 0:n.video_config)||void 0===s?void 0:s.videoSource)&&this.initVimeo(),this.isInit=!0)}getYoutubeVideoID(t){const i=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return i&&11===i[7].length?i[7]:void 0}onYoutubeAPIReady(t){window.YT&&window.YT.Player?t(window.YT.Player):(window.ZbAttachedYoutubeScript||this.attachYoutubeScript(),setTimeout((()=>{this.onYoutubeAPIReady(t)}),200))}attachYoutubeScript(){var t;if(window.ZbAttachedYoutubeScript)return;const i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";const o=document.getElementsByTagName("script")[0];null===(t=null==o?void 0:o.parentNode)||void 0===t||t.insertBefore(i,o),window.ZbAttachedYoutubeScript=!0}initYoutube(){var t,i,o;if(!(null===(t=this.options.video_config)||void 0===t?void 0:t.youtubeURL))return;const e=this.getYoutubeVideoID(null===(i=this.options.video_config)||void 0===i?void 0:i.youtubeURL);if(!e)return;const n=document.createElement("div");n.classList.add("zb-el-video-element"),null===(o=this.domNode)||void 0===o||o.appendChild(n),this.onYoutubeAPIReady((()=>{this.youtubePlayer=new window.YT.Player(n,{videoId:e,playerVars:{autoplay:this.options.autoplay?1:0,controls:this.options.controls?1:0,mute:this.options.muted?1:0,playsinline:1,modestbranding:1,origin:window.location.host},host:"https://www.youtube-nocookie.com"})}))}onVimeoApiReady(t){window.Vimeo&&window.Vimeo.Player?t():(window.ZbAttachedVimeoScript||this.attachVimeoScript(),setTimeout((()=>{this.onVimeoApiReady(t)}),200))}attachVimeoScript(){var t;if(window.ZbAttachedVimeoScript)return;const i=document.createElement("script");i.src="https://player.vimeo.com/api/player.js";const o=document.getElementsByTagName("script")[0];null===(t=null==o?void 0:o.parentNode)||void 0===t||t.insertBefore(i,o),window.ZbAttachedVimeoScript=!0}initVimeo(){var t,i;if(!(null===(t=this.options.video_config)||void 0===t?void 0:t.vimeoURL))return;const o=document.createElement("div");o.classList.add("zb-el-video-element"),null===(i=this.domNode)||void 0===i||i.appendChild(o),this.onVimeoApiReady((()=>{var t;this.vimeoPlayer=new window.Vimeo.Player(o,{id:null===(t=this.options)||void 0===t?void 0:t.vimeoURL,background:!1,muted:this.options.muted,transparent:!0,autoplay:this.options.autoplay,controls:this.options.controls})}))}initHTML5(){var t;const i=!!this.options.autoplay,o=!!this.options.muted,e=!!this.options.loop,n=document.createElement("video");if(n.classList.add("zb-el-video-element"),n.muted=o,n.autoplay=i,n.loop=e,this.options.controls&&(n.controls=!0),this.options.mp4){const t=document.createElement("source");t.src=this.options.mp4,n.appendChild(t)}null===(t=this.domNode)||void 0===t||t.appendChild(n),this.html5Player=n}getConfig(){var t;const i=null===(t=this.domNode)||void 0===t?void 0:t.dataset.zionVideo,o=i?JSON.parse(i):{};return Object.assign(Object.assign({autoplay:!0,muted:!0,loop:!0,controls:!0,controlsPosition:"bottom-left",videoSource:"local",responsive:!0},o),o.video_config||{})}}document.querySelectorAll(".zb-el-zionVideo").forEach((i=>{new t(i)})),window.zbScripts=window.zbScripts||{},window.zbScripts.video=t}()}();