!function(){var e={130:function(){"use strict";window.zb=window.parent.zb},407:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,o]of t)n[e]=o;return n}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"}();var o={};n.p=window.zionBuilderPaths.zionbuilder,function(){"use strict";n.r(o),n(130);var e=window.zb.vue,t={name:"ElementStyles",props:{styles:{type:String}},setup:t=>()=>t.styles?(0,e.h)("style",t.styles):null},r=zb.utils,i=zb.hooks,l=function(e,t){return e===t||e!=e&&t!=t},s=function(e,t){for(var n=e.length;n--;)if(l(e[n][0],t))return n;return-1},a=Array.prototype.splice;function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=function(){this.__data__=[],this.size=0},c.prototype.delete=function(e){var t=this.__data__,n=s(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))},c.prototype.get=function(e){var t=this.__data__,n=s(t,e);return n<0?void 0:t[n][1]},c.prototype.has=function(e){return s(this.__data__,e)>-1},c.prototype.set=function(e,t){var n=this.__data__,o=s(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};var u,d=c,p="object"==typeof global&&global&&global.Object===Object&&global,m="object"==typeof self&&self&&self.Object===Object&&self,f=p||m||Function("return this")(),h=f.Symbol,g=Object.prototype,v=g.hasOwnProperty,b=g.toString,y=h?h.toStringTag:void 0,w=Object.prototype.toString,_=h?h.toStringTag:void 0,C=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?function(e){var t=v.call(e,y),n=e[y];try{e[y]=void 0;var o=!0}catch(e){}var r=b.call(e);return o&&(t?e[y]=n:delete e[y]),r}(e):function(e){return w.call(e)}(e)},S=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},E=function(e){if(!S(e))return!1;var t=C(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},k=f["__core-js_shared__"],x=(u=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",z=Function.prototype.toString,j=function(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""},V=/^\[object .+?Constructor\]$/,B=Function.prototype,O=Object.prototype,T=B.toString,D=O.hasOwnProperty,P=RegExp("^"+T.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=function(e){return!(!S(e)||(t=e,x&&x in t))&&(E(e)?P:V).test(j(e));var t},N=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return A(n)?n:void 0},M=N(f,"Map"),$=N(Object,"create"),R=Object.prototype.hasOwnProperty,I=Object.prototype.hasOwnProperty;function L(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}L.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},L.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},L.prototype.get=function(e){var t=this.__data__;if($){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return R.call(t,e)?t[e]:void 0},L.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:I.call(t,e)},L.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$&&void 0===t?"__lodash_hash_undefined__":t,this};var U=L,F=function(e,t){var n,o,r=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map};function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Z.prototype.clear=function(){this.size=0,this.__data__={hash:new U,map:new(M||d),string:new U}},Z.prototype.delete=function(e){var t=F(this,e).delete(e);return this.size-=t?1:0,t},Z.prototype.get=function(e){return F(this,e).get(e)},Z.prototype.has=function(e){return F(this,e).has(e)},Z.prototype.set=function(e,t){var n=F(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};var H=Z;function q(e){var t=this.__data__=new d(e);this.size=t.size}q.prototype.clear=function(){this.__data__=new d,this.size=0},q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},q.prototype.get=function(e){return this.__data__.get(e)},q.prototype.has=function(e){return this.__data__.has(e)},q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof d){var o=n.__data__;if(!M||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new H(o)}return n.set(e,t),this.size=n.size,this};var W=q,Y=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e},X=function(){try{var e=N(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),K=function(e,t,n){"__proto__"==t&&X?X(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},J=Object.prototype.hasOwnProperty,G=function(e,t,n){var o=e[t];J.call(e,t)&&l(o,n)&&(void 0!==n||t in e)||K(e,t,n)},Q=function(e,t,n,o){var r=!n;n||(n={});for(var i=-1,l=t.length;++i<l;){var s=t[i],a=o?o(n[s],e[s],s,n,e):void 0;void 0===a&&(a=e[s]),r?K(n,s,a):G(n,s,a)}return n},ee=function(e){return null!=e&&"object"==typeof e},te=function(e){return ee(e)&&"[object Arguments]"==C(e)},ne=Object.prototype,oe=ne.hasOwnProperty,re=ne.propertyIsEnumerable,ie=te(function(){return arguments}())?te:function(e){return ee(e)&&oe.call(e,"callee")&&!re.call(e,"callee")},le=ie,se=Array.isArray,ae="object"==typeof exports&&exports&&!exports.nodeType&&exports,ce=ae&&"object"==typeof module&&module&&!module.nodeType&&module,ue=ce&&ce.exports===ae?f.Buffer:void 0,de=(ue?ue.isBuffer:void 0)||function(){return!1},pe=/^(?:0|[1-9]\d*)$/,me=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&pe.test(e))&&e>-1&&e%1==0&&e<t},fe=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},he={};he["[object Float32Array]"]=he["[object Float64Array]"]=he["[object Int8Array]"]=he["[object Int16Array]"]=he["[object Int32Array]"]=he["[object Uint8Array]"]=he["[object Uint8ClampedArray]"]=he["[object Uint16Array]"]=he["[object Uint32Array]"]=!0,he["[object Arguments]"]=he["[object Array]"]=he["[object ArrayBuffer]"]=he["[object Boolean]"]=he["[object DataView]"]=he["[object Date]"]=he["[object Error]"]=he["[object Function]"]=he["[object Map]"]=he["[object Number]"]=he["[object Object]"]=he["[object RegExp]"]=he["[object Set]"]=he["[object String]"]=he["[object WeakMap]"]=!1;var ge=function(e){return function(t){return e(t)}},ve="object"==typeof exports&&exports&&!exports.nodeType&&exports,be=ve&&"object"==typeof module&&module&&!module.nodeType&&module,ye=be&&be.exports===ve&&p.process,we=function(){try{return be&&be.require&&be.require("util").types||ye&&ye.binding&&ye.binding("util")}catch(e){}}(),_e=we&&we.isTypedArray,Ce=_e?ge(_e):function(e){return ee(e)&&fe(e.length)&&!!he[C(e)]},Se=Object.prototype.hasOwnProperty,Ee=function(e,t){var n=se(e),o=!n&&le(e),r=!n&&!o&&de(e),i=!n&&!o&&!r&&Ce(e),l=n||o||r||i,s=l?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],a=s.length;for(var c in e)!t&&!Se.call(e,c)||l&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||me(c,a))||s.push(c);return s},ke=Object.prototype,xe=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)},ze=function(e,t){return function(n){return e(t(n))}},je=ze(Object.keys,Object),Ve=Object.prototype.hasOwnProperty,Be=function(e){return null!=e&&fe(e.length)&&!E(e)},Oe=function(e){return Be(e)?Ee(e):function(e){if(!xe(e))return je(e);var t=[];for(var n in Object(e))Ve.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},Te=Object.prototype.hasOwnProperty,De=function(e){if(!S(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=xe(e),n=[];for(var o in e)("constructor"!=o||!t&&Te.call(e,o))&&n.push(o);return n},Pe=function(e){return Be(e)?Ee(e,!0):De(e)},Ae="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ne=Ae&&"object"==typeof module&&module&&!module.nodeType&&module,Me=Ne&&Ne.exports===Ae?f.Buffer:void 0,$e=Me?Me.allocUnsafe:void 0,Re=function(e,t){if(t)return e.slice();var n=e.length,o=$e?$e(n):new e.constructor(n);return e.copy(o),o},Ie=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t},Le=function(){return[]},Ue=Object.prototype.propertyIsEnumerable,Fe=Object.getOwnPropertySymbols,Ze=Fe?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var l=e[n];t(l,n,e)&&(i[r++]=l)}return i}(Fe(e),(function(t){return Ue.call(e,t)})))}:Le,He=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e},qe=ze(Object.getPrototypeOf,Object),We=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)He(t,Ze(e)),e=qe(e);return t}:Le,Ye=function(e,t,n){var o=t(e);return se(e)?o:He(o,n(e))},Xe=function(e){return Ye(e,Oe,Ze)},Ke=function(e){return Ye(e,Pe,We)},Je=N(f,"DataView"),Ge=N(f,"Promise"),Qe=N(f,"Set"),et=N(f,"WeakMap"),tt="[object Map]",nt="[object Promise]",ot="[object Set]",rt="[object WeakMap]",it="[object DataView]",lt=j(Je),st=j(M),at=j(Ge),ct=j(Qe),ut=j(et),dt=C;(Je&&dt(new Je(new ArrayBuffer(1)))!=it||M&&dt(new M)!=tt||Ge&&dt(Ge.resolve())!=nt||Qe&&dt(new Qe)!=ot||et&&dt(new et)!=rt)&&(dt=function(e){var t=C(e),n="[object Object]"==t?e.constructor:void 0,o=n?j(n):"";if(o)switch(o){case lt:return it;case st:return tt;case at:return nt;case ct:return ot;case ut:return rt}return t});var pt=dt,mt=Object.prototype.hasOwnProperty,ft=f.Uint8Array,ht=function(e){var t=new e.constructor(e.byteLength);return new ft(t).set(new ft(e)),t},gt=/\w*$/,vt=h?h.prototype:void 0,bt=vt?vt.valueOf:void 0,yt=function(e,t){var n=t?ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},wt=function(e,t,n){var o,r,i,l=e.constructor;switch(t){case"[object ArrayBuffer]":return ht(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return function(e,t){var n=t?ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return yt(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return(i=new(r=e).constructor(r.source,gt.exec(r))).lastIndex=r.lastIndex,i;case"[object Symbol]":return o=e,bt?Object(bt.call(o)):{}}},_t=Object.create,Ct=function(){function e(){}return function(t){if(!S(t))return{};if(_t)return _t(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),St=function(e){return"function"!=typeof e.constructor||xe(e)?{}:Ct(qe(e))},Et=we&&we.isMap,kt=Et?ge(Et):function(e){return ee(e)&&"[object Map]"==pt(e)},xt=we&&we.isSet,zt=xt?ge(xt):function(e){return ee(e)&&"[object Set]"==pt(e)},jt="[object Arguments]",Vt="[object Function]",Bt={};Bt[jt]=Bt["[object Array]"]=Bt["[object ArrayBuffer]"]=Bt["[object DataView]"]=Bt["[object Boolean]"]=Bt["[object Date]"]=Bt["[object Float32Array]"]=Bt["[object Float64Array]"]=Bt["[object Int8Array]"]=Bt["[object Int16Array]"]=Bt["[object Int32Array]"]=Bt["[object Map]"]=Bt["[object Number]"]=Bt["[object Object]"]=Bt["[object RegExp]"]=Bt["[object Set]"]=Bt["[object String]"]=Bt["[object Symbol]"]=Bt["[object Uint8Array]"]=Bt["[object Uint8ClampedArray]"]=Bt["[object Uint16Array]"]=Bt["[object Uint32Array]"]=!0,Bt["[object Error]"]=Bt[Vt]=Bt["[object WeakMap]"]=!1;var Ot=function e(t,n,o,r,i,l){var s,a=1&n,c=2&n,u=4&n;if(o&&(s=i?o(t,r,i,l):o(t)),void 0!==s)return s;if(!S(t))return t;var d=se(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&mt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!a)return Ie(t,s)}else{var p=pt(t),m=p==Vt||"[object GeneratorFunction]"==p;if(de(t))return Re(t,a);if("[object Object]"==p||p==jt||m&&!i){if(s=c||m?{}:St(t),!a)return c?function(e,t){return Q(e,We(e),t)}(t,function(e,t){return e&&Q(t,Pe(t),e)}(s,t)):function(e,t){return Q(e,Ze(e),t)}(t,function(e,t){return e&&Q(t,Oe(t),e)}(s,t))}else{if(!Bt[p])return i?t:{};s=wt(t,p,a)}}l||(l=new W);var f=l.get(t);if(f)return f;l.set(t,s),zt(t)?t.forEach((function(r){s.add(e(r,n,o,r,t,l))})):kt(t)&&t.forEach((function(r,i){s.set(i,e(r,n,o,i,t,l))}));var h=d?void 0:(u?c?Ke:Xe:c?Pe:Oe)(t);return Y(h||t,(function(r,i){h&&(r=t[i=r]),G(s,i,e(r,n,o,i,t,l))})),s},Tt=function(e,t,n){for(var o=-1,r=Object(e),i=n(e),l=i.length;l--;){var s=i[++o];if(!1===t(r[s],s,r))break}return e},Dt=function(e,t){if(null==e)return e;if(!Be(e))return function(e,t){return e&&Tt(e,t,Oe)}(e,t);for(var n=e.length,o=-1,r=Object(e);++o<n&&!1!==t(r[o],o,r););return e},Pt=function(e){return e},At=function(e,t){return(se(e)?Y:Dt)(e,"function"==typeof(n=t)?n:Pt);var n},Nt=zb.components;class Mt{constructor(e,t,n,o,r=null){this.model=JSON.parse(JSON.stringify(t)),this.schema=e,this.selector=n,this.options=o,this.element=r,this.serverRequester=r?r.serverRequester:window.zb.editor.serverRequest;const{responsiveDevicesAsIdWidth:i}=(0,Nt.useResponsiveDevices)(),l={};Object.keys(i.value).forEach((e=>{l[e]={}})),this.customCSS=l,this.renderAttributes={}}startLoading(){"function"==typeof this.options.onLoadingStart&&this.options.onLoadingStart()}endLoading(){"function"==typeof this.options.onLoadingEnd&&this.options.onLoadingEnd()}parseData(){const e=this.model;return this.parseOptions(this.schema,e),{options:(0,i.applyFilters)("zionbuilder/options/model",e,this),renderAttributes:this.renderAttributes,customCSS:this.getCustomCSS()}}parseOptions(e,t,n=null){return t=null===t?{}:t,Object.keys(e).forEach((o=>{const r=e[o];if(!this.checkDependency(r,t))return!1;if(void 0!==r.is_layout&&r.is_layout)void 0!==r.child_options&&this.parseOptions(r.child_options,t);else if(void 0!==t[o]?(this.setPropperImage(o,r,t),this.setRenderAttributes(r,t[o],n),this.setCustomCSS(r,t[o],n)):void 0!==r.default&&(t[o]=(i=r.default,Ot(i,5))),void 0!==r.child_options)if("repeater"===r.type)void 0!==t[o]&&Array.isArray(t[o])&&t[o].forEach(((e,t)=>{this.parseOptions(r.child_options,e,t)}));else{const e=void 0!==t[o]&&null!==t[o]?t[o]:{};this.parseOptions(r.child_options,e),Object.keys(e).length>0&&(t[o]=e)}var i})),t}setPropperImage(e,t,n){if("image"===t.type&&!0===t.show_size&&n[e]){const t=n[e];t&&t.image&&t.image_size&&"full"!==t.image_size&&(this.startLoading(),(0,r.getImage)(n[e],this.serverRequester).then((t=>{t&&this.setImage(n,e,t)})).finally((()=>{this.endLoading()})))}}setImage(e,t,n){if((e[t]||{}).image===n)return;const o=Object.assign(Object.assign({},e[t]),{image:n});e[t]=o}addRenderAttribute(e,t,n,o=!1){this.renderAttributes[e]||(this.renderAttributes[e]={});const r=this.renderAttributes[e];r[t]||(r[t]=[]),o?r[t]=[n]:r[t].push(n)}setRenderAttributes(e,t,n=null){const o={default:"",laptop:"--lg",tablet:"--md",mobile:"--sm"};e.render_attribute&&e.render_attribute.forEach((r=>{let i=r.tag_id||"wrapper";i=null===n?i:`${i}${n}`;const l=r.attribute||"class";let s=r.value||"";if(e.responsive_options&&null!==t)t&&"object"!=typeof t&&(t={default:t}),Object.keys(t).forEach((e=>{if(!t[e]||void 0===o[e])return;const n=t[e];s=r.value||"",s=s.replace("{{RESPONSIVE_DEVICE_CSS}}",o[e]),s=s.replace("{{VALUE}}",n)||n,this.addRenderAttribute(i,l,s)}));else{if(!t)return;s=s.replace("{{VALUE}}",t)||t,this.addRenderAttribute(i,l,s)}}))}setCustomCSS(e,t,n=null){e.css_style&&Array.isArray(e.css_style)?e.css_style.forEach((o=>{e.responsive_options&&"object"==typeof t&&null!==t?this.extractResponsiveCSSRules(e.type,o,t,n):this.extractCSSRule("default",e.type,o,t,n)})):"shape_dividers"===e.type&&"object"==typeof t&&At(t,((t,o)=>{let{shape:r,height:i}=t;if(r&&i){const t=`zb-mask-pos--${o}`;"string"==typeof i&&(i={default:i}),this.extractResponsiveCSSRules(e.type,{selector:`${this.selector} .${t}`,value:"height: {{VALUE}}"},i,n)}}))}extractResponsiveCSSRules(e,t,n,o){if("object"!=typeof n||null===n)return"";Object.keys(n).forEach((r=>{const i=n[r];this.extractCSSRule(r,e,t,i,o)}))}extractCSSRule(e,t,n,o,r){let{selector:i,value:l}=n;if(i&&l)if(i=i.replace("{{ELEMENT}}",this.selector),l=l.replace("{{VALUE}}",o),null!==r&&(i=i.replace("{{INDEX}}",r)),"element_styles"===t){const t=optionValue.styles||{},n=getStyles(formattedSelector,t);n&&this.addCustomCSS(e,i,n)}else this.addCustomCSS(e,i,l)}addCustomCSS(e,t,n){void 0!==this.customCSS[e]&&(this.customCSS[e][t]=this.customCSS[e][t]||[],this.customCSS[e][t].push(n))}getCustomCSS(){const{responsiveDevicesAsIdWidth:e}=(0,Nt.useResponsiveDevices)();let t="";return Object.keys(this.customCSS).forEach((n=>{const o=this.customCSS[n],r=this.extractStyles(o);if(0!==r.length)if("default"===n)t+=r;else{if(!e.value[n])return;const o=e.value[n];t+=`@media(max-width: ${o}px) { ${r} } `}})),t}extractStyles(e){let t="";return"object"==typeof e&&null!==e&&Object.keys(e).forEach((n=>{const o=e[n];t+=`${n} { ${o.join(";")} } `})),t}checkDependency(e,t){let n=!0;return e.dependency&&e.dependency.forEach((e=>{n&&(n=this.checkSingleDependency(e,t))})),n}checkSingleDependency(e,t){const{type:n="includes",option:o,option_path:i,value:l}=e;let s=null;return o?s=void 0!==t[o]?t[o]:null:i&&(s=(0,r.getOptionValue)(this.model,i)),!("includes"!==n||!l.includes(s))||"not_in"===n&&!l.includes(s)}getValue(e,t){return(0,r.getOptionValue)(this.model,e,t)}}var $t=zb.editor,Rt={name:"PageStyles",props:{cssClasses:{type:[Object,Array]},pageSettingsModel:{type:Object},pageSettingsSchema:{type:Object}},setup(n){const{getSchema:o}=(0,Nt.useOptionsSchemas)(),r=o("styles");return()=>{const{activePseudoSelector:o}=(0,Nt.usePseudoSelectors)(),i=[],l=function(n){return(0,e.h)(t,{styles:n})},s=new Mt(n.pageSettingsSchema,n.pageSettingsModel),{customCSS:a}=s.parseData();return i.push(l(a)),"object"==typeof n.cssClasses&&null!==n.cssClasses&&Object.keys(n.cssClasses).forEach((e=>{const t=n.cssClasses[e],s=new Mt(r,t,[`.zb .${t.id}`]).parseData();let a=(0,$t.getCssFromSelector)([`.zb .${t.id}`],s.options);if(o.value&&":hover"===o.value.id){const e=new Mt(r,t,[`.zb .${t.id}`]).parseData();a+=(0,$t.getCssFromSelector)([`.zb .${t.id}`],e.options,{forcehoverState:!0})}i.push(l(a))})),i}}},It=zb.i18n;const Lt={key:0,class:"znpb-hidden-element-container"},Ut={class:"znpb-hidden-element-placeholder"};var Ft=function(e){return"symbol"==typeof e||ee(e)&&"[object Symbol]"==C(e)},Zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/;function qt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var l=e.apply(this,o);return n.cache=i.set(r,l)||i,l};return n.cache=new(qt.Cache||H),n}qt.Cache=H;var Wt,Yt,Xt,Kt,Jt,Gt,Qt,en=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tn=/\\(\\)?/g,nn=(Wt=qt((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(en,(function(e,n,o,r){t.push(o?r.replace(tn,"$1"):n||e)})),t}),(function(e){return 500===Yt.size&&Yt.clear(),e})),Yt=Wt.cache,Wt),on=h?h.prototype:void 0,rn=on?on.toString:void 0,ln=function e(t){if("string"==typeof t)return t;if(se(t))return function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}(t,e)+"";if(Ft(t))return rn?rn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},sn=function(e){return null==e?"":ln(e)},an=function(e,t){return se(e)?e:function(e,t){if(se(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ft(e))||Ht.test(e)||!Zt.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:nn(sn(e))},cn=function(e){if("string"==typeof e||Ft(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},un=function(e,t,n){var o=null==e?void 0:function(e,t){for(var n=0,o=(t=an(t,e)).length;null!=e&&n<o;)e=e[cn(t[n++])];return n&&n==o?e:void 0}(e,t);return void 0===o?n:o},dn=function(e){return function(t){return null==e?void 0:e[t]}},pn=dn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),mn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fn=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),hn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vn="a-z\\xdf-\\xf6\\xf8-\\xff",bn="A-Z\\xc0-\\xd6\\xd8-\\xde",yn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wn="["+yn+"]",_n="\\d+",Cn="["+vn+"]",Sn="[^\\ud800-\\udfff"+yn+_n+"\\u2700-\\u27bf"+vn+bn+"]",En="(?:\\ud83c[\\udde6-\\uddff]){2}",kn="[\\ud800-\\udbff][\\udc00-\\udfff]",xn="["+bn+"]",zn="(?:"+Cn+"|"+Sn+")",jn="(?:"+xn+"|"+Sn+")",Vn="(?:['’](?:d|ll|m|re|s|t|ve))?",Bn="(?:['’](?:D|LL|M|RE|S|T|VE))?",On="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Tn="[\\ufe0e\\ufe0f]?",Dn=Tn+On+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",En,kn].join("|")+")"+Tn+On+")*",Pn="(?:"+["[\\u2700-\\u27bf]",En,kn].join("|")+")"+Dn,An=RegExp([xn+"?"+Cn+"+"+Vn+"(?="+[wn,xn,"$"].join("|")+")",jn+"+"+Bn+"(?="+[wn,xn+zn,"$"].join("|")+")",xn+"?"+zn+"+"+Vn,xn+"+"+Bn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_n,Pn].join("|"),"g"),Nn=function(e,t,n){return e=sn(e),void 0===(t=n?void 0:t)?function(e){return gn.test(e)}(e)?function(e){return e.match(An)||[]}(e):function(e){return e.match(hn)||[]}(e):e.match(t)||[]},Mn=RegExp("['’]","g"),$n=(Xt=function(e,t,n){return e+(n?"-":"")+t.toLowerCase()},function(e){return function(e,t,n,o){var r=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}(Nn(function(e){return(e=sn(e))&&e.replace(mn,pn).replace(fn,"")}(e).replace(Mn,"")),Xt,"")}),Rn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),In=/[&<>"']/g,Ln=RegExp(In.source),Un=function(e,t,n){(void 0!==n&&!l(e[t],n)||void 0===n&&!(t in e))&&K(e,t,n)},Fn=Function.prototype,Zn=Object.prototype,Hn=Fn.toString,qn=Zn.hasOwnProperty,Wn=Hn.call(Object),Yn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Xn=function(e,t,n,o,r,i,l){var s,a=Yn(e,n),c=Yn(t,n),u=l.get(c);if(u)Un(e,n,u);else{var d=i?i(a,c,n+"",e,t,l):void 0,p=void 0===d;if(p){var m=se(c),f=!m&&de(c),h=!m&&!f&&Ce(c);d=c,m||f||h?se(a)?d=a:ee(s=a)&&Be(s)?d=Ie(a):f?(p=!1,d=Re(c,!0)):h?(p=!1,d=yt(c,!0)):d=[]:function(e){if(!ee(e)||"[object Object]"!=C(e))return!1;var t=qe(e);if(null===t)return!0;var n=qn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Hn.call(n)==Wn}(c)||le(c)?(d=a,le(a)?d=function(e){return Q(e,Pe(e))}(a):S(a)&&!E(a)||(d=St(c))):p=!1}p&&(l.set(c,d),r(d,c,o,i,l),l.delete(c)),Un(e,n,d)}},Kn=function e(t,n,o,r,i){t!==n&&Tt(n,(function(l,s){if(i||(i=new W),S(l))Xn(t,n,s,o,e,r,i);else{var a=r?r(Yn(t,s),l,s+"",t,n,i):void 0;void 0===a&&(a=l),Un(t,s,a)}}),Pe)},Jn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Gn=Math.max,Qn=X?function(e,t){return X(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Pt,eo=Date.now,to=(Kt=Qn,Jt=0,Gt=0,function(){var e=eo(),t=16-(e-Gt);if(Gt=e,t>0){if(++Jt>=800)return arguments[0]}else Jt=0;return Kt.apply(void 0,arguments)}),no=function(e,t){return to(function(e,t,n){return t=Gn(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,i=Gn(o.length-t,0),l=Array(i);++r<i;)l[r]=o[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=o[r];return s[t]=n(l),Jn(e,this,s)}}(e,t,Pt),e+"")},oo=(Qt=function(e,t,n,o){Kn(e,t,n,o)},no((function(e,t){var n=-1,o=t.length,r=o>1?t[o-1]:void 0,i=o>2?t[2]:void 0;for(r=Qt.length>3&&"function"==typeof r?(o--,r):void 0,i&&function(e,t,n){if(!S(n))return!1;var o=typeof t;return!!("number"==o?Be(n)&&me(t,n.length):"string"==o&&t in n)&&l(n[t],e)}(t[0],t[1],i)&&(r=o<3?void 0:r,o=1),e=Object(e);++n<o;){var s=t[n];s&&Qt(e,s,n,r)}return e}))),ro=function(){return f.Date.now()},io=/\s/,lo=/^\s+/,so=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&io.test(e.charAt(t)););return t}(e)+1).replace(lo,""):e},ao=/^[-+]0x[0-9a-f]+$/i,co=/^0b[01]+$/i,uo=/^0o[0-7]+$/i,po=parseInt,mo=function(e){if("number"==typeof e)return e;if(Ft(e))return NaN;if(S(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=S(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=so(e);var n=co.test(e);return n||uo.test(e)?po(e.slice(2),n?2:8):ao.test(e)?NaN:+e},fo=Math.max,ho=Math.min;const go=["onMousedown"],vo=[(0,e.createElementVNode)("span",{class:"znpb-element-toolbox__resize-width-bg"},null,-1)],bo=["onMousedown"];var yo=function(e){var t=[],n=null,o=function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};const wo={class:"zbpb-element-toolbox__titleWrapper"},_o=["onClick","onContextmenu"],Co={class:"zbpb-element-toolbox__title"};var So={name:"ToolboxTitle",props:{element:{type:Object,required:!0}},setup(t){const n=(0,e.ref)(null),{element:o}=(0,$t.useEditElement)(),r=(0,e.computed)((()=>{let e=[],n=t.element;for(;n;)e.push(n),n=n.parent&&"contentRoot"!==n.parent.element_type?n.parent:null;return e.reverse()}));(0,e.onMounted)((function(){const e=n.value.getBoundingClientRect();i.value=e.top+window.scrollY<0,l.value=e.right>(window.innerWidth||document.documentElement.clientWidth)}));const i=(0,e.ref)(!1),l=(0,e.ref)(!1);return{parents:r,root:n,exitsTop:i,exitsRight:l,editedElement:o,editElement:function(e){const{editElement:t}=(0,$t.useEditElement)();t(e)},showElementMenu:function(e,t){e.preventDefault(),e.stopPropagation();const{showElementMenuFromEvent:n}=(0,$t.useElementMenu)();n(t,e,{rename:!1})}}}},Eo=n(407),ko={name:"ElementToolbox",components:{ToolboxTitle:(0,Eo.Z)(So,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("Icon");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)(["zbpb-element-toolbox__titleFakeWrapper",{"zbpb-element-toolbox__titleFakeWrapper--bottom":r.exitsTop,"zbpb-element-toolbox__titleFakeWrapper--left":r.exitsRight}]),ref:"root"},[(0,e.createElementVNode)("div",wo,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.parents,(t=>((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:t.uid,class:(0,e.normalizeClass)(["zbpb-element-toolbox__titleContainer",{"zbpb-element-toolbox__titleContainer--active":t===r.editedElement}]),onClick:(0,e.withModifiers)((e=>r.editElement(t)),["stop"]),onContextmenu:e=>r.showElementMenu(e,t)},[(0,e.createVNode)(s,{icon:"select",class:"zbpb-element-toolbox__icon",size:9}),(0,e.createElementVNode)("span",Co,(0,e.toDisplayString)(t.name),1)],42,_o)))),128))])],2)}]])},props:{element:Object,canHideToolbox:{type:Boolean,required:!1,default:!0}},setup(t){const n=(0,e.ref)(!1),o=(0,e.ref)(null),{activeResponsiveDeviceInfo:r}=(0,Nt.useResponsiveDevices)(),{addEventListener:i,removeEventListener:l}=(0,$t.useWindows)(),s=(0,e.ref)(!1),{isDragging:a}=(0,$t.useIsDragging)(),{element:c}=(0,$t.useEditElement)(),u=(0,e.computed)((()=>t.element===c.value));return{showColumnTemplates:n,addElementsPopupButton:o,toggleAddElementsPopup:()=>{const{showAddElementsPopup:e}=(0,$t.useAddElementsPopup)();e(t.element,o,{placement:"next"})},activeResponsiveDeviceInfo:r,isDragging:a,addEventListener:i,removeEventListener:l,isActiveElementEdit:u,isToolboxDragging:s}},data(){return{computedStyle:null,startClientX:null,startClientY:null,activeDragPosition:null,activeDragType:null,reversedPosition:null,initialSizeValue:null,positions2:{padding:["paddingTop","paddingBottom","paddingLeft","paddingRight"],margin:["marginTop","marginBottom","marginLeft","marginRight"]},styleMap:{paddingTop:"padding-top",paddingRight:"padding-right",paddingBottom:"padding-bottom",paddingLeft:"padding-left",marginTop:"margin-top",marginRight:"margin-right",marginBottom:"margin-bottom",marginLeft:"margin-left",width:"width",height:"height"},positions:{top:"Top",bottom:"Bottom",right:"Right",left:"Left"},popperRefValues:{clientX:0,clientY:0},popperRef:{getBoundingClientRect:()=>({top:this.popperRefValues.clientY,right:this.popperRefValues.clientX,bottom:this.popperRefValues.clientY,left:this.popperRefValues.clientX,width:0,height:0})},showColumnTemplates:!1,newValues:null,settingEvenPaddingDimensions:null,settingEvenMarginsDimensions:null,addToHistory:!1,isTopBarOpen:null}},computed:{computedSavedValues(){const e=un(this.element.options,`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default`,{});return{paddingTop:e[this.styleMap.paddingTop]||this.computedStyle.paddingTop,paddingRight:e[this.styleMap.paddingRight]||this.computedStyle.paddingRight,paddingBottom:e[this.styleMap.paddingBottom]||this.computedStyle.paddingBottom,paddingLeft:e[this.styleMap.paddingLeft]||this.computedStyle.paddingLeft,marginTop:e[this.styleMap.marginTop]||this.computedStyle.marginTop,marginRight:e[this.styleMap.marginRight]||this.computedStyle.marginRight,marginBottom:e[this.styleMap.marginBottom]||this.computedStyle.marginBottom,marginLeft:e[this.styleMap.marginLeft]||this.computedStyle.marginLeft,height:e[this.styleMap.height]||this.computedStyle.height,width:e[this.styleMap.width]||this.computedStyle.width}},computedHelpersStyle(){const{height:e,width:t,...n}=this.styleMap,o={};return Object.keys(n).forEach((e=>{const t="vertical"==(-1!==e.indexOf("Top")||-1!==e.indexOf("Bottom")?"vertical":"horizontal")?"height":"width",n=Math.abs(parseInt(this.computedSavedValues[e]));o[e]={[t]:`${n}px`}})),o},getPopperPlacement(){return"Right"===this.activeDragPosition?"left":"Top"===this.activeDragPosition?"bottom":"Bottom"===this.activeDragPosition?"top":"right"},isAnyDragging(){return this.isDragging||this.isToolboxDragging},dragDimension(){return"Top"===this.activeDragPosition||"Bottom"===this.activeDragPosition?"vertical":"horizontal"}},beforeUnmount(){this.removeEvents()},created(){this.setComputedStyle()},methods:{startSpacingDrag({event:e,type:t,position:n}){const{clientX:o,clientY:i}=e,l=r.Environment.isMac?"metaKey":"ctrlKey";document.body.style.userSelect="none",this.$emit("update:canHideToolbox",!1),this.$emit("update:isToolboxDragging",!0);const s=o,a=i;this.activeDragType=t,this.activeDragPosition=n,this.isToolboxDragging=!0;const c=this.computedSavedValues[n],u="string"==typeof c&&c?c.match(/^([+-]?[0-9]+([.][0-9]*)?|[.][0-9]+)(\D+)$/):null,d=u&&u[1]?parseInt(u[1]):0,p=u?u[3]:"";this.onMouseMoveDebounced=yo((e=>{let{direction:o,distance:r}=this.getDragInfo({event:e,type:t,position:n,startClientX:s,startClientY:a});["padding","margin"].includes(t)&&-1!==n.indexOf("Right")&&(r*=-1);let i="%"===p?d+.1*r:d+r;e.shiftKey&&(i=5*Math.round(i/5)),"padding"===t&&(i=Math.max(i,0)),i=Math.round(10*i)/10,d!==i&&(this.updateElementStyle({newValue:`${i}${p}`,type:t,position:n,even:e[l],reversedPosition:e[l]?this.getReversedPosition(n):null}),this.setComputedStyle())})),this.addEventListener("mousemove",this.onMouseMoveDebounced),this.addEventListener("mouseup",this.onMouseUp)},getReversedPosition(e){const t=e.split(/(?=[A-Z])/);let n;switch(t[1]){case"Top":n="Bottom";break;case"Bottom":n="Top";break;case"Left":n="Right";break;case"Right":n="Left"}return`${t[0]}${n}`},updateElementStyle({newValue:e,type:t,position:n,even:o,reversedPosition:r}){const i=this.styleMap[n];if(this.addToHistory=!0,this.element.updateOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default.${i}`,e),o){const t=this.styleMap[r];this.element.updateOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default.${t}`,e)}},getDragInfo({event:e,type:t,position:n,startClientX:o,startClientY:r}){const i=-1!==n.indexOf("Top")||-1!==n.indexOf("Bottom")?"vertical":"horizontal";return{direction:i,distance:"vertical"===i?e.clientY-r:e.clientX-o}},onMouseUp(){if(this.addToHistory){const{addToHistory:e}=(0,$t.useHistory)();e(`Updated ${this.element.name} ${this.activeDragType}`)}this.onMouseMoveDebounced.cancel(),this.removeEventListener("mousemove",this.onMouseMoveDebounced),this.removeEventListener("mouseup",this.onMouseUp),this.onMouseMoveDebounced=null,this.activeDragType=null,this.activeDragPosition=null,this.addToHistory=!1,this.isToolboxDragging=!1,document.body.style.userSelect=null,this.$emit("update:canHideToolbox",!0),this.$emit("update:isToolboxDragging",!1)},setTopBarDisplay(e){this.isTopBarOpen=e},getNumberFromString:e=>parseInt(e.match(/\d+/)[0]),setComputedStyle(){this.$parent.$el&&(this.computedStyle=window.getComputedStyle(this.$parent.$el))},removeEvents(){this.removeEventListener("mousemove",this.changeSizeDebounced),this.removeEventListener("mousemove",this.changePaddingWidth),this.removeEventListener("mousemove",this.changeMarginWidth),this.removeEventListener("mouseup",this.endDragging)},getSizeChangePropertyFromPosition(e){let t=null;return t="Top"===e||"Bottom"===e?"min-height":"width",t},startSizeDrag(e,t,n){const{clientX:o,clientY:r}=e;this.$emit("update:canHideToolbox",!1),this.$emit("update:isToolboxDragging",!0),this.startClientX=o,this.startClientY=r,this.popperRefValues={clientX:o,clientY:r},this.activeDragPosition=t,this.activeDragType="size";const i=this.getSizeChangePropertyFromPosition(t);document.body.style.userSelect="none",this.initialSizeValue=parseInt(this.getSizeValue(i)),this.changeSizeDebounced=yo(this.changeSize),this.addEventListener("mousemove",this.changeSizeDebounced),this.addEventListener("mouseup",this.endDragging)},getSizeValue(e){let t=this.element.getOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default.${e}`);if(null!==t)return t;const n="min-height"===e?"height":"width",o=this.computedStyle.getPropertyValue(n);return this.getNumberFromString(o)||0},changeSize(e){const{clientX:t,clientY:n}=e;if(!this.activeDragPosition)return;let o=null;const r=this.getSizeChangePropertyFromPosition(this.activeDragPosition),i="vertical"===this.dragDimension?"vertical":"horizontal";if(this.addToHistory=!0,"vertical"===i){const e=n-this.startClientY;o="Top"===this.activeDragPosition?this.initialSizeValue-e:this.initialSizeValue+e}else o="Right"===this.activeDragPosition?t-this.startClientX+this.initialSizeValue:this.startClientX-t+this.initialSizeValue;if(o<0&&(o=0),this.newValues=o,this.element.updateOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default.${r}`,`${o}px`),this.$refs[`sizeDrag--${this.activeDragPosition}`]){const{bottom:e,left:t,top:n,right:o}=this.$refs.rectangle.getBoundingClientRect();"Top"===this.activeDragPosition?this.popperRefValues.clientY=n:"Right"===this.activeDragPosition?this.popperRefValues.clientX=o:"Bottom"===this.activeDragPosition?this.popperRefValues.clientY=e:this.popperRefValues.clientX=t,this.$refs[`sizeDrag--${this.activeDragPosition}`].scheduleUpdate()}},endDragging(){if(document.body.style.userSelect=null,this.startClientX=null,this.startClientY=null,this.activeDragPosition=null,this.popperRef=null,this.$emit("update:canHideToolbox",!0),this.$emit("update:isToolboxDragging",!1),this.addToHistory){const{addToHistory:e}=(0,$t.useHistory)();e(`Updated ${this.element.name} ${this.activeDragType}`)}this.addToHistory=!1,this.settingEvenPaddingDimensions=!1,this.removeEvents()}}},xo=(0,Eo.Z)(ko,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("ToolboxTitle"),a=(0,e.resolveComponent)("Tooltip"),c=(0,e.resolveComponent)("Icon"),u=(0,e.resolveDirective)("znpb-tooltip");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{ref:"rectangle",class:(0,e.normalizeClass)(["znpb-element-toolbox",{"znpb-element-toolbox--dragging":l.isAnyDragging,[`znpb-element-toolbox__resize-${i.activeDragType}-${i.activeDragPosition}--dragging`]:r.isToolboxDragging}])},[(0,e.createVNode)(s,{element:o.element},null,8,["element"]),i.computedStyle&&r.isActiveElementEdit?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[(0,e.createCommentVNode)(" Width/height "),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(i.positions,((t,n)=>((0,e.openBlock)(),(0,e.createBlock)(a,{ref_for:!0,ref:`sizeDrag--${t}`,key:`size-${t}`,"tooltip-class":"hg-popper--big-arrows znpb-sizing-label",placement:l.getPopperPlacement,"append-to":"body",trigger:"null","show-arrows":!1,show:"size"===i.activeDragType&&i.activeDragPosition===t&&null!=i.newValues,"popper-ref":i.popperRef,onMousedown:(0,e.withModifiers)((e=>l.startSizeDrag(e,t)),["left","stop"])},{content:(0,e.withCtx)((()=>[(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(void 0!==i.newValues?i.newValues+"px":""),1)])),default:(0,e.withCtx)((()=>[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["znpb-element-toolbox__resize-width znpb-element-toolbox__resize-dimensions",{[`znpb-element-toolbox__resize-width--${n}`]:!0,["znpb-element-toolbox__resize-dimensions--"+("top"===n||"bottom"===n?"height":"width")]:!0}]),onMousedown:(0,e.withModifiers)((e=>l.startSizeDrag(e,t)),["left","stop"])},vo,42,go)])),_:2},1032,["placement","show","popper-ref","onMousedown"])))),128)),(0,e.createCommentVNode)(" Paddings "),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(i.positions2,((t,n)=>((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,null,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t,(t=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:`${n}-${t}`,class:(0,e.normalizeClass)({"znpb-element-toolbox__resize":!0,[`znpb-element-toolbox__resize-${n}`]:!0,[`znpb-element-toolbox__resize--${t}`]:!0,"znpb-element-toolbox__resize--dragging":i.activeDragType===n&&(i.activeDragPosition===t||i.reversedPosition===t)}),onMousedown:(0,e.withModifiers)((e=>l.startSpacingDrag({event:e,type:n,position:t})),["left","stop"])},[(0,e.createElementVNode)("div",{class:"znpb-element-toolbox__resize-value",style:(0,e.normalizeStyle)(l.computedHelpersStyle[t])},[(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(l.computedSavedValues[t]),1)],4)],42,bo)))),128))],64)))),256))],64)):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Add new Button "),(0,e.createVNode)(e.Transition,{appear:"",name:"bounce-add-icon"},{default:(0,e.withCtx)((()=>[l.isAnyDragging?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,ref:"addElementsPopupButton",class:"znpb-element-toolbox__add-element-button",onClick:n[0]||(n[0]=(...e)=>r.toggleAddElementsPopup&&r.toggleAddElementsPopup(...e))},[(0,e.withDirectives)((0,e.createVNode)(c,{icon:"plus",rounded:!0},null,512),[[u,t.$translate("insert_after")+" "+o.element.name]])],512))])),_:1})],2)}]]);const zo={class:"znpb-preview__element-loading"},jo=["src"];var Vo={name:"ElementLoading",setup:()=>({urls:(0,e.inject)("editor_urls")}),computed:{loadingUrl(){return this.urls.loader}}},Bo=(0,Eo.Z)(Vo,[["render",function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createElementBlock)("div",zo,[(0,e.createElementVNode)("img",{src:l.loadingUrl},null,8,jo)])}]]);const Oo=["data-zion-video-background"];function To(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new H;++t<n;)this.add(e[t])}To.prototype.add=To.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},To.prototype.has=function(e){return this.__data__.has(e)};var Do=To,Po=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1},Ao=function(e,t){return e.has(t)},No=function(e,t,n,o,r,i){var l=1&n,s=e.length,a=t.length;if(s!=a&&!(l&&a>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,m=2&n?new Do:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var f=e[d],h=t[d];if(o)var g=l?o(h,f,d,t,e,i):o(f,h,d,e,t,i);if(void 0!==g){if(g)continue;p=!1;break}if(m){if(!Po(t,(function(e,t){if(!Ao(m,t)&&(f===e||r(f,e,n,o,i)))return m.push(t)}))){p=!1;break}}else if(f!==h&&!r(f,h,n,o,i)){p=!1;break}}return i.delete(e),i.delete(t),p},Mo=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n},$o=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ro=h?h.prototype:void 0,Io=Ro?Ro.valueOf:void 0,Lo=Object.prototype.hasOwnProperty,Uo="[object Arguments]",Fo="[object Array]",Zo="[object Object]",Ho=Object.prototype.hasOwnProperty,qo=function(e,t,n,o,r,i){var s=se(e),a=se(t),c=s?Fo:pt(e),u=a?Fo:pt(t),d=(c=c==Uo?Zo:c)==Zo,p=(u=u==Uo?Zo:u)==Zo,m=c==u;if(m&&de(e)){if(!de(t))return!1;s=!0,d=!1}if(m&&!d)return i||(i=new W),s||Ce(e)?No(e,t,n,o,r,i):function(e,t,n,o,r,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new ft(e),new ft(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Mo;case"[object Set]":var c=1&o;if(a||(a=$o),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;o|=2,s.set(e,t);var d=No(a(e),a(t),o,r,i,s);return s.delete(e),d;case"[object Symbol]":if(Io)return Io.call(e)==Io.call(t)}return!1}(e,t,c,n,o,r,i);if(!(1&n)){var f=d&&Ho.call(e,"__wrapped__"),h=p&&Ho.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new W),r(g,v,n,o,i)}}return!!m&&(i||(i=new W),function(e,t,n,o,r,i){var l=1&n,s=Xe(e),a=s.length;if(a!=Xe(t).length&&!l)return!1;for(var c=a;c--;){var u=s[c];if(!(l?u in t:Lo.call(t,u)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var m=!0;i.set(e,t),i.set(t,e);for(var f=l;++c<a;){var h=e[u=s[c]],g=t[u];if(o)var v=l?o(g,h,u,t,e,i):o(h,g,u,e,t,i);if(!(void 0===v?h===g||r(h,g,n,o,i):v)){m=!1;break}f||(f="constructor"==u)}if(m&&!f){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(m=!1)}return i.delete(e),i.delete(t),m}(e,t,n,o,r,i))},Wo=function e(t,n,o,r,i){return t===n||(null==t||null==n||!ee(t)&&!ee(n)?t!=t&&n!=n:qo(t,n,o,r,e,i))},Yo=function(e,t){return Wo(e,t)},Xo={name:"VideoBackground",props:{videoConfig:{type:Object,required:!1,default:()=>({})}},computed:{getVideoSettings(){return JSON.stringify(this.videoConfig)},hasVideoSource(){const e=this.videoConfig&&this.videoConfig.videoSource?this.videoConfig.videoSource:"local";return!("youtube"!==e||!this.videoConfig.youtubeURL)||!("vimeo"!==e||!this.videoConfig.vimeoURL)||!("local"!==e||!this.videoConfig.mp4)}},watch:{videoConfig(e,t){this.hasVideoSource&&(Yo(e,t)||(this.videoInstance&&this.videoInstance.destroy(),this.$nextTick((()=>{this.videoInstance=new window.ZBVideoBg(this.$el,this.videoConfig)}))))}},mounted(){this.hasVideoSource&&Object.keys(this.videoConfig).length>0&&(this.videoInstance=new window.ZBVideoBg(this.$el,this.videoConfig))}},Ko=(0,Eo.Z)(Xo,[["render",function(t,n,o,r,i,l){return l.hasVideoSource?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"zb__videoBackground-wrapper","data-zion-video-background":l.getVideoSettings},null,8,Oo)):(0,e.createCommentVNode)("v-if",!0)}]]);const Jo={key:0,class:"znpb__server-element--empty"},Go=["src"],Qo={key:1,class:"znpb__server-element-loader--loading"};let er,tr,nr={},or=!1;const rr=()=>{const e=()=>{const e=window.document.getElementsByTagName("script");return Array.from(e).forEach((e=>{e.src&&(nr[e.src]="done")})),nr},t=()=>{let e={};const t=window.document.getElementsByTagName("link");return Array.from(t).forEach((t=>{"stylesheet"===t.rel&&(e[t.href]="done")})),e};or||(er=e(),tr=t(),or=!0);const n=e=>{const t=window.document.createElement("script");t.type="text/javascript";const n=window.document.createTextNode(e);t.appendChild(n),window.document.body.appendChild(t)},o=e=>{if("object"==typeof er[e])return er[e];if("done"===er[e])return Promise.resolve(e);if("error"===er[e])return Promise.reject(e);const t=new Promise(((t,n)=>{const o=window.document.createElement("script");o.src=e,o.onload=()=>{er[e]="done",t(window.document)},o.onerror=()=>{er[e]="error",n(window.document)},window.document.body.appendChild(o)}));return er[e]=t,t},r=e=>{if("object"==typeof tr[e])return tr[e];if("done"===tr[e])return Promise.resolve(e);if("error"===tr[e])return Promise.reject(e);const t=new Promise(((t,n)=>{const o=window.document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,o.onload=()=>{t(window.document),tr[e]="done"},o.onerror=()=>{n(window.document),tr[e]="error"},window.document.getElementsByTagName("head")[0].appendChild(o)}));return tr[e]=t,t};return{getAvailableScripts:e,getAvailableStyles:t,loadScript:e=>{const t=-1!==e.src.indexOf(".js")?"javascript":-1!==e.src.indexOf(".css")&&"css";return"javascript"===t?(e.data&&n(e.data),e.before&&n(e.before),o(e.src).then((()=>{e.after&&n(e.after)})).catch((e=>console.error(e)))):"css"===t?r(e.src).catch((e=>console.error(e))):void 0},addInlineJavascript:n,loadJavaScriptFile:o,loadCssFile:r,reset:function(){nr={},or=!1,er={},tr={}},scripts:nr,loadedScripts:er,loadedStyles:tr}};var ir={name:"ServerComponent",props:{element:Object,options:{type:Object},api:{type:Object}},setup(t){const{editorData:n}=(0,$t.useEditorData)(),o=t.element.elementTypeModel,l=n.value.urls.logo,s=(0,e.ref)(null),a=(0,e.ref)(""),c=(0,e.ref)(!0),u=(0,e.ref)(!1),d=(0,e.computed)((()=>{const e=o,{_styles:n,_advanced_options:r,...i}=t.options;return e.requires_data_for_render&&0===Object.keys(i).length})),p=(0,e.computed)((()=>{let{_styles:e,_advanced_options:n,...o}=t.options;return JSON.stringify(o)}));(0,e.watch)(p,((e,t)=>{h()}));const m=(0,i.applyFilters)("zionbuilder/server_component/data",{element_data:t.element});function f(){c.value=!0,t.element.serverRequester.request({type:"render_element",config:m},(n=>{a.value=n.data.element,function(e){const t=s.value;t.innerHTML=e,Array.from(t.querySelectorAll("script")).forEach((e=>{const t=document.createElement("script");Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)})),t.addEventListener("load",g)}(a.value),function(e){const{loadScript:t}=rr();return new Promise(((n,o)=>{Object.keys(e).map((n=>{const o=e[n];if(o.handle=o.handle?o.handle:n,o.src)return t(o)})),n()}))}(n.data.scripts).then((()=>{c.value=!1,(0,e.nextTick)((()=>{setTimeout((()=>{!function(){const e=s.value.querySelectorAll("img, iframe, video");let t=e.length;const n=()=>{t--,0===t&&g()};t>0?e.forEach((e=>{e.addEventListener("load",n),e.addEventListener("error",n)})):g()}(),(0,i.trigger)("zionbuilder/server_component/rendered",s.value,t.element,t.options)}),20)}))}))}),(function(e){c.value=!1,console.log("server Request fail",e)}))}const h=(0,r.debounce)((function(){f()}),500);function g(){const{height:e}=s.value.getBoundingClientRect();u.value=e<2}return(0,e.onMounted)((()=>{f()})),(0,i.on)("zionbuilder/server_component/refresh",h),(0,e.onBeforeUnmount)((()=>{(0,i.off)("zionbuilder/server_component/refresh",h)})),{contentModel:o,logoUrl:l,elementContentRef:s,requiresDataForRender:d,elementContent:a,loading:c,elementNotSelectable:u}}},lr=(0,Eo.Z)(ir,[["render",function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.renderSlot)(t.$slots,"start"),(0,e.createElementVNode)("div",{ref:"elementContentRef",class:(0,e.normalizeClass)({"znpb__server-element--loading":r.loading})},null,2),r.loading||0!==r.elementContent.length&&!r.elementNotSelectable&&!r.requiresDataForRender?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",Jo,[(0,e.createElementVNode)("img",{src:r.logoUrl},null,8,Go)])),r.loading?((0,e.openBlock)(),(0,e.createElementBlock)("div",Qo)):(0,e.createCommentVNode)("v-if",!0),(0,e.renderSlot)(t.$slots,"end")])}]]);const sr={class:"znpb-element--not-found"};var ar={name:"InvalidElement"},cr=(0,Eo.Z)(ar,[["render",function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createElementBlock)("div",sr,[(0,e.renderSlot)(t.$slots,"start"),(0,e.createTextVNode)(" "+(0,e.toDisplayString)(t.$translate("element_not_found"))+" ",1),(0,e.renderSlot)(t.$slots,"end")])}]]);let ur=!1;var dr={name:"ElementWrapper",components:{ElementToolbox:xo,VideoBackground:Ko,ElementLoading:Bo,ElementStyles:t},props:["element"],setup(t,{emit:n}){const o=(0,e.ref)(null),{isPreviewMode:l}=(0,$t.usePreviewMode)(),{elementComponent:s,fetchElementComponent:a}=function(t){const n=(0,e.ref)(null);return{elementComponent:n,fetchElementComponent:()=>{(()=>{const{loadScript:e}=rr();return Promise.all([...Object.keys(t.elementTypeModel.scripts).map((n=>{const o=t.elementTypeModel.scripts[n];if(o.handle=o.handle?o.handle:n,o.src)return e(o)})),...Object.keys(t.elementTypeModel.styles).map((n=>{const o=t.elementTypeModel.styles[n];if(o.handle=o.handle?o.handle:n,o.src)return e(o)}))])})().then((()=>{const o=t.elementTypeModel;let r;r="invalid"===o.element_type?(0,e.markRaw)(cr):o.component?o.component:(0,e.markRaw)(lr),n.value=(0,i.applyFilters)("zionbuilder/element/component",r,t)}))}}}(t.element),{getSchema:c}=(0,Nt.useOptionsSchemas)(),{activePseudoSelector:u}=(0,Nt.usePseudoSelectors)(),{element:d}=(0,$t.useEditElement)();let p=null;const m=(0,e.ref)(!1),f=(0,e.computed)((()=>t.element.loading||m.value)),h=(0,e.ref)(!1),g=(0,e.ref)(!0),v=(0,e.ref)(!1),b=(0,e.ref)({}),y=(0,e.ref)(!1),w=(0,e.ref)(!1),_={_advanced_options:{type:"group",child_options:c("element_advanced")}},C=Object.assign({},un(t.element,"elementTypeModel.options",{}),_),S=(0,e.computed)((()=>{const e=`#${t.element.elementCssId}`;return p=new Mt(C,t.element.options,e,{onLoadingStart:()=>m.value=!0,onLoadingEnd:()=>m.value=!1},t.element),p.parseData()})),E=(0,e.computed)((()=>(0,e.readonly)(S.value.options||{})));(0,e.watch)(d,((e,n)=>{e===t.element?y.value=!0:n===t.element&&(y.value=!1)})),(0,e.watch)(u,(e=>{":hover"===e.id?w.value=!0:w.value=!1}));const k=(0,e.computed)((()=>y.value&&w.value)),x=(0,e.computed)((()=>{let e="";const n=t.element.elementTypeModel.style_elements;return n&&Object.keys(n).forEach((o=>{if(E.value._styles&&E.value._styles[o]){const r=n[o],l=(0,i.applyFilters)("zionbuilder/element/css_selector",`#${t.element.elementCssId}`,p,t.element),s=r.selector.replace("{{ELEMENT}}",l),a=(0,i.applyFilters)("zionbuilder/element/styles_model",E.value._styles[o],p,t.element);e+=(0,$t.getCssFromSelector)([s],a),k.value&&(e+=(0,$t.getCssFromSelector)([s],a,{forcehoverState:!0}))}})),e+=S.value.customCSS,e=(0,i.applyFilters)("zionbuilder/element/custom_css",e,p,t.element),e})),z=(0,e.computed)((()=>E.value._styles||{})),j=(0,e.computed)((()=>{const{element:e}=(0,$t.useEditElement)();return(e.value===t.element||t.element.isHighlighted)&&t.element.isVisible&&!t.element.elementTypeModel.is_child&&!l.value})),V=(0,e.computed)((()=>!(l.value&&!1===E.value._isVisible))),B=(0,e.computed)((()=>(0,r.getOptionValue)(E.value,"_styles.wrapper.styles.default.default.background-video",{}))),O=(0,e.computed)((()=>{const e=S.value.renderAttributes,n={};z.value&&At(z.value,((e,t)=>{e.attributes&&At(e.attributes,(e=>{if(e.attribute_name){n[t]=n[t]||{};let r=$n(e.attribute_name),i=(o=e.attribute_value,(o=sn(o))&&Ln.test(o)?o.replace(In,Rn):o);n[t][r]=i}var o}))}));const o=t.element.elementTypeModel.style_elements;return o&&Object.keys(o).forEach((e=>{if(E.value._styles&&E.value._styles[e]&&E.value._styles[e].classes){const t=o[e].render_tag;t&&E.value._styles[e].classes.forEach((e=>{n[t]||(n[t]={}),n[t].class=[...n[t].class||[],e]}))}})),oo({},e,n,((e,t)=>{if(se(e))return t.concat(e)}))})),T=(0,e.computed)((()=>{const e=O.value.wrapper||{},n=(0,r.camelCase)(t.element.element_type),o=(0,i.applyFilters)("zionbuilder/element/css_classes",{[`zb-el-${n}`]:!0,"znpb-element__wrapper--toolbox-dragging":v.value,"znpb-element__wrapper--cutted":t.element.isCutted,"znpb-element--loading":f.value},p,t.element);if(z.value.wrapper){const e=z.value.wrapper;e.classes&&e.classes.forEach((e=>{o[e]=!0}))}return(void 0!==e.class?e.class:[]).forEach((e=>{o[e]=!0})),{...e,class:o,api:{getStyleClasses:P,getAttributesForTag:D}}}));function D(e,t={},n=null){return e=null!==n?`${e}${n}`:e,Object.assign(O.value[e]||{},t)}a();const P=(e,t={})=>{const n={};if(z.value[e]){const t=z.value[e];t.classes&&t.classes.forEach((e=>{n[e]=!0}))}return n};return(0,e.provide)("elementInfo",t.element),(0,e.provide)("elementOptions",E),{root:o,stylesConfig:z,canShowToolbox:j,canShowElement:V,videoConfig:B,getExtraAttributes:T,elementComponent:s,isPreviewMode:l,showElementMenu:function(e){if(!l.value){e.preventDefault(),e.stopPropagation();const{showElementMenuFromEvent:n}=(0,$t.useElementMenu)();n(t.element,e,{rename:!1})}},onElementClick:e=>{if(ur)return;const{editElement:n}=(0,$t.useEditElement)();l.value||n(t.element),ur=!0,setTimeout((()=>{ur=!1}),50)},options:E,customCSS:x,loading:f,canHideToolbox:g,isToolboxDragging:v,toolboxWatcher:null,registeredEvents:b,showToolbox:h,onMouseEnter:function(e){if(t.element.highlight(),t.element.parent){let e=t.element.parent;for(;e;)e.unHighlight(),e=e.parent}},onMouseLeave:function(e){t.element.unHighlight(),t.element.parent&&(t.element.parent.highlight(),parent=parent.parent)}}},watch:{"element.scrollTo"(e){e&&("function"==typeof this.$el.scrollIntoView&&this.$el.scrollIntoView({behavior:"smooth",inline:"center",block:"center"}),setTimeout((()=>{this.element.scrollTo=!1}),1e3))}},methods:{debounceUpdate:function(e,t,n){var o,r,i,l,s,a,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=o,i=r;return o=r=void 0,c=t,l=e.apply(i,n)}function f(e){return c=e,s=setTimeout(g,t),u?m(e):l}function h(e){var n=e-a;return void 0===a||n>=t||n<0||d&&e-c>=i}function g(){var e=ro();if(h(e))return v(e);s=setTimeout(g,function(e){var n=t-(e-a);return d?ho(n,i-(e-c)):n}(e))}function v(e){return s=void 0,p&&o?m(e):(o=r=void 0,l)}function b(){var e=ro(),n=h(e);if(o=arguments,r=this,a=e,n){if(void 0===s)return f(a);if(d)return clearTimeout(s),s=setTimeout(g,t),m(a)}return void 0===s&&(s=setTimeout(g,t)),l}return t=mo(t)||0,S(n)&&(u=!!n.leading,i=(d="maxWait"in n)?fo(mo(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,o=a=r=s=void 0},b.flush=function(){return void 0===s?l:v(ro())},b}((function(){this.$nextTick((()=>{this.trigger("updated")}))})),applyCustomClassesToRenderTags(){const e=(0,r.getOptionValue)(this.options,"_styles",{}),t=this.element.elementTypeModel.style_elements;(0,r.getOptionValue)(this.options,"attributes",{}),Object.keys(e).forEach((n=>{const{classes:o}=e[n];if(void 0!==t[n]){const{render_tag:e}=t[n];e&&o&&o.length>0&&o.forEach((t=>{this.element.renderAttributes.addRenderAttribute(e,"class",t)}))}}))},restoreHiddenElement(){this.element.toggleVisibility()},on(e,t){void 0===this.registeredEvents[e]&&(this.registeredEvents[e]=[]),this.registeredEvents[e].push(t)},off(e,t){if(void 0===this.registeredEvents[e]&&this.registeredEvents[e].includes(t)){const n=this.registeredEvents[e].indexOf(t);-1!==n&&this.registeredEvents[e].splice(n,1)}},offAll(){this.registeredEvents={}},getDefaultEventResponse(){return{elementType:this.element.element_type,element:this.$el,options:this.options||{},elementUid:this.element.uid,on:this.on,off:this.off,offAll:this.offAll}},trigger(e,t){const n=this.getDefaultEventResponse();void 0!==this.registeredEvents[e]&&this.registeredEvents[e].forEach((e=>{e({...n,...t})}))}}},pr=(0,Eo.Z)(dr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("ElementLoading"),a=(0,e.resolveComponent)("ElementToolbox"),c=(0,e.resolveComponent)("VideoBackground"),u=(0,e.resolveComponent)("ElementStyles"),d=(0,e.resolveComponent)("Icon");return r.loading?((0,e.openBlock)(),(0,e.createBlock)(s,{key:0})):!r.elementComponent||!1===o.element.isVisible&&r.isPreviewMode?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(r.elementComponent),(0,e.mergeProps)({key:1,id:`${o.element.elementCssId}`,ref:"root",class:"znpb-element__wrapper zb-element",element:o.element,options:r.options},r.getExtraAttributes,{onMouseenter:r.onMouseEnter,onMouseleave:r.onMouseLeave,onClick:r.onElementClick,onContextmenu:r.showElementMenu}),{start:(0,e.withCtx)((()=>[r.canShowToolbox?((0,e.openBlock)(),(0,e.createBlock)(a,{key:0,element:o.element},null,8,["element"])):(0,e.createCommentVNode)("v-if",!0),r.videoConfig?((0,e.openBlock)(),(0,e.createBlock)(c,{key:1,"video-config":r.videoConfig},null,8,["video-config"])):(0,e.createCommentVNode)("v-if",!0),(0,e.createVNode)(u,{styles:r.customCSS},null,8,["styles"])])),end:(0,e.withCtx)((()=>[o.element.isVisible?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",Lt,[(0,e.createElementVNode)("div",Ut,[(0,e.createVNode)(d,{icon:"eye",onClick:n[0]||(n[0]=(0,e.withModifiers)((e=>o.element.toggleVisibility()),["stop"]))})])]))])),_:1},16,["id","element","options","onMouseenter","onMouseleave","onClick","onContextmenu"]))}]]),mr={name:"Element",props:["element","onElementSetup"],setup(t){const n=(0,e.ref)({}),o=(0,e.ref)({});(0,i.trigger)("zionbuilder/preview/element/setup",t.element);const r=(0,e.computed)((()=>(0,i.applyFilters)("zionbuilder/preview/element/wrapper_component",pr,t.element)));return"function"==typeof t.onElementSetup&&t.onElementSetup.apply(null,[o,n]),{elementWrapperComponent:r,attrs:n,elementRef:o}}},fr=(0,Eo.Z)(mr,[["render",function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(r.elementWrapperComponent),(0,e.mergeProps)({element:o.element},r.attrs,{ref:"elementRef"}),null,16,["element"])}]]),hr={name:"SortableContent",components:{Element:fr},inheritAttrs:!1,props:{element:Object,group:{type:Object,required:!1},allowElementsAdd:{type:Boolean,default:!0},emptyPlaceholderText:{type:String},onElementSetup:{type:Function}},setup(t){const{addToHistory:n}=(0,$t.useHistory)(),{getElementType:o}=(0,$t.useElementTypes)(),i={name:"elements"},l=(0,e.ref)(!1),s=(0,e.ref)(null),{getElement:a}=(0,$t.useElements)(),c=(0,e.computed)((()=>t.element.content.length>0&&l.value)),u=(0,e.computed)((()=>t.group||i)),d=(0,e.computed)((()=>{let e="horizontal";if("contentRoot"===t.element.element_type)return"vertical";const n=o(t.element.element_type);n&&(e=n.content_orientation),t.element.options.inner_content_layout&&(e=t.element.options.inner_content_layout);const i=(0,r.getOptionValue)(t.element.options,"_styles.wrapper.styles.default.default.flex-direction");return i&&(e="row"===i?"horizontal":"vertical"),e})),{isPreviewMode:p}=(0,$t.usePreviewMode)(),{isDragging:m,setDraggingState:f}=(0,$t.useIsDragging)(),{copyElement:h}=(0,$t.useElementActions)();return{isPreviewMode:p,groupInfo:u,getSortableAxis:d,showAddElementsPopup:c,addElementsPopupButton:s,showColumnTemplates:l,isDragging:m,setDraggingState:f,copyElement:h,onSortableDrop:function(e){const t=e.data.item.getAttribute("zion-element-uid"),o=a(t),r=(0,It.translate)("moved");n(`${r} ${o.name}`)},onSortableDuplicate:function(e){return e.getClone()},onSortableStart:function(){const{hideAddElementsPopup:e}=(0,$t.useAddElementsPopup)();e(),f(!0)},onSortableEnd:function(){f(!1)}}}},gr=(0,Eo.Z)(hr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("Element"),a=(0,e.resolveComponent)("SortableHelper"),c=(0,e.resolveComponent)("SortablePlaceholder"),u=(0,e.resolveComponent)("EmptySortablePlaceholder"),d=(0,e.resolveComponent)("Sortable");return(0,e.openBlock)(),(0,e.createBlock)(d,(0,e.mergeProps)({modelValue:o.element.content,"onUpdate:modelValue":n[0]||(n[0]=e=>o.element.content=e),group:r.groupInfo,disabled:r.isPreviewMode,"allow-duplicate":!0,"duplicate-callback":r.onSortableDuplicate},t.$attrs,{class:{[`znpb__sortable-container--${r.getSortableAxis}`]:r.isDragging},axis:r.getSortableAxis,onStart:r.onSortableStart,onEnd:r.onSortableEnd,onDrop:r.onSortableDrop}),{start:(0,e.withCtx)((()=>[(0,e.renderSlot)(t.$slots,"start")])),helper:(0,e.withCtx)((()=>[(0,e.createVNode)(a)])),placeholder:(0,e.withCtx)((()=>[(0,e.createVNode)(c)])),end:(0,e.withCtx)((()=>[0===o.element.content.length&&o.allowElementsAdd&&!r.isPreviewMode?((0,e.openBlock)(),(0,e.createBlock)(u,{key:0,element:o.element},null,8,["element"])):(0,e.createCommentVNode)("v-if",!0),(0,e.renderSlot)(t.$slots,"end")])),default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(o.element.content,(t=>((0,e.openBlock)(),(0,e.createBlock)(s,{key:t.uid,element:t,"zion-element-uid":t.uid,"on-element-setup":o.onElementSetup},null,8,["element","zion-element-uid","on-element-setup"])))),128))])),_:3},16,["modelValue","group","disabled","duplicate-callback","class","axis","onStart","onEnd","onDrop"])}]]),vr={name:"PreviewApp",components:{SortableContent:gr,PageStyles:Rt,ElementStyles:t},setup(){const{editorData:t}=(0,$t.useEditorData)(),{getElement:n}=(0,$t.useElements)(),{getSchema:o}=(0,Nt.useOptionsSchemas)(),{CSSClasses:r}=(0,$t.useCSSClasses)(),{isPreviewMode:l}=(0,$t.usePreviewMode)(),{pageSettings:s}=(0,$t.usePageSettings)(),a=(0,e.computed)((()=>n(t.value.page_id))),c=(0,e.ref)(!1);return(0,e.provide)("masks",t.value.masks),(0,e.provide)("plugin_info",t.value.plugin_info),(0,e.provide)("editor_urls",t.value.urls),(0,e.watch)(l,(e=>{e?window.document.body.classList.add("znpb-editor-preview--active"):window.document.body.classList.remove("znpb-editor-preview--active")})),(0,i.trigger)("zionbuilder/preview/app/setup"),{element:a,showExportModal:c,getSchema:o,CSSClasses:r,isPreviewMode:l,pageSettings:s,previewAppClasses:(0,e.computed)((()=>(0,i.applyFilters)("zionbuilder/preview/app/css_classes",window.ZnPbPreviewData.preview_app_css_classes)))}}},br=(0,Eo.Z)(vr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("SortableContent"),a=(0,e.resolveComponent)("PageStyles"),c=(0,e.resolveComponent)("ElementStyles");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)(["zb",r.previewAppClasses])},[r.element?((0,e.openBlock)(),(0,e.createBlock)(s,{key:0,class:"znpb-preview-page-wrapper",element:r.element},null,8,["element"])):(0,e.createCommentVNode)("v-if",!0),(0,e.createVNode)(a,{"css-classes":r.CSSClasses,"page-settings-model":r.pageSettings,"page-settings-schema":r.getSchema("pageSettingsSchema")},null,8,["css-classes","page-settings-model","page-settings-schema"]),(0,e.createVNode)(c,{styles:r.pageSettings._custom_css},null,8,["styles"])],2)}]]);const yr=["contenteditable"];var wr={name:"PopOver",props:{icon:{type:String,required:!1},isActive:{type:Boolean,required:!1},fullSize:{required:!1}},setup(t){const n=(0,e.ref)(null),o=(0,e.ref)({x:0,y:0,left:0}),r=(0,e.computed)((()=>{let e=[];return void 0!==t.icon&&(e.push("zn_pb_icon"),e.push(t.icon)),t.isActive&&e.push("zion-inline-editor-button--active"),e.join(" ")})),i=[{name:"flip",options:{fallbackPlacements:["top","bottom"]}}];return t.fullSize&&i.push({name:"test",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:e,instance:t}){const n=e.rects.popper.width,o=e.rects.reference.width;n>=o||(e.styles.popper.width=`${o}px`,t.update())}}),(0,e.onMounted)((()=>{const e=window.document.getElementsByClassName("zion-inline-editor-container")[0];o.value=t.fullSize?e:n.value.$el})),{buttonClasses:r,modifiers:i,popperRef:o,iconElementRef:n}}},_r=(0,Eo.Z)(wr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("Icon"),a=(0,e.resolveComponent)("Tooltip");return(0,e.openBlock)(),(0,e.createBlock)(a,{class:"zion-inline-editor-popover-wrapper","tooltip-class":"zion-inline-editor-dropdown hg-popper--no-padding",trigger:"click",placement:"top","append-to":"element","close-on-outside-click":!0,"popper-ref":r.popperRef,modifiers:r.modifiers,"show-arrows":!1},{content:(0,e.withCtx)((()=>[(0,e.renderSlot)(t.$slots,"default")])),default:(0,e.withCtx)((()=>[(0,e.createVNode)(s,{icon:o.icon,class:(0,e.normalizeClass)(r.buttonClasses),ref:"iconElementRef"},null,8,["icon","class"])])),_:3},8,["popper-ref","modifiers"])}]]),Cr={props:["formatter","icon","buttontext","formatterValue"],setup(t){const n=(0,e.inject)("ZionInlineEditor"),o=(0,e.ref)(!1),r=(0,e.computed)((()=>{let e=[];return o.value&&e.push("zion-inline-editor-button--active"),e.join(" ")}));function i(){o.value=n.editor.formatter.match(...l())}function l(){const e=[t.formatter];return t.formatterValue&&e.push({value:t.formatterValue}),e}function s(){i()}return(0,e.onMounted)((()=>{i(),n.editor.on("SelectionChange",s)})),(0,e.onBeforeUnmount)((()=>{n.editor.off("SelectionChange",s)})),{isActive:o,classes:r,toggleFormatter:function(e){e.preventDefault(),n.editor.formatter.toggle(...l())}}}},Sr=(0,Eo.Z)(Cr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("Icon");return o.icon?((0,e.openBlock)(),(0,e.createBlock)(s,{key:0,icon:o.icon,onMousedown:r.toggleFormatter,class:(0,e.normalizeClass)(r.classes)},null,8,["icon","onMousedown","class"])):((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:1,class:(0,e.normalizeClass)(["zion-inline-editor-button",r.classes]),onMousedown:n[0]||(n[0]=(...e)=>r.toggleFormatter&&r.toggleFormatter(...e))},(0,e.toDisplayString)(o.buttontext),35))}]]);const Er={class:"zion-inline-editor-panel-color"},kr={class:"zion-inline-editor-button"};var xr={setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),r=(0,e.ref)(null);let i=!1,l=null;function s(e){i||a()}function a(){r.value=o.editor.queryCommandValue("forecolor")}return(0,e.onMounted)((()=>{a(),o.editor.on("NodeChange",s)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("NodeChange",s)})),{color:r,onColorChange:function(e){r.value=e,o.editor.formatter.apply("forecolor",{value:e}),clearTimeout(l),l=setTimeout((()=>{i=!1}),500),i=!0}}}},zr=(0,Eo.Z)(xr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("InputColorPicker");return(0,e.openBlock)(),(0,e.createElementBlock)("div",Er,[(0,e.createElementVNode)("div",kr,[(0,e.createVNode)(s,{modelValue:r.color,"onUpdate:modelValue":r.onColorChange,"show-library":!1,onOpen:n[0]||(n[0]=e=>t.$emit("open-color-picker",!0)),onClose:n[1]||(n[1]=e=>t.$emit("close-color-picker",!1)),type:"simple"},null,8,["modelValue","onUpdate:modelValue"])])])}]]),jr={props:["modelValue"],components:{PopOver:_r,InlineEditorButton:Sr},setup(t){const n=(0,e.inject)("ZionInlineEditor"),o=(0,e.ref)(!1),r=[100,200,300,400,500,600,700,800,900],i=(0,e.computed)((()=>{let e=[];return o.value&&e.push("zion-inline-editor-button--active"),e.join(" ")}));function l(){o.value=r.some((e=>n.editor.formatter.match("fontWeight",{value:e})))}return(0,e.onBeforeMount)((()=>{l(),n.editor.on("NodeChange",l)})),(0,e.onBeforeUnmount)((()=>{n.editor.off("NodeChange",l)})),{isActive:o,classes:i,fontWeights:r}}},Vr=(0,Eo.Z)(jr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("InlineEditorButton"),a=(0,e.resolveComponent)("PopOver");return(0,e.openBlock)(),(0,e.createBlock)(a,{icon:"ite-weight","is-active":r.isActive,"full-size":!0},{default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.fontWeights,(t=>((0,e.openBlock)(),(0,e.createBlock)(s,{key:t,formatter:"fontWeight","formatter-value":t,buttontext:t},null,8,["formatter-value","buttontext"])))),128))])),_:1},8,["is-active"])}]]);const Br={class:"zion-inline-editor-link-wrapper"},Or={class:"zion-inline-editor-popover__link-title"};var Tr={components:{PopOver:_r},props:{fullWidth:{type:Boolean,required:!1},direction:{type:String,required:!1},visible:{type:Boolean}},setup(){const t=(0,e.inject)("ZionInlineEditor"),n=(0,e.ref)(!1),o=((0,e.ref)(!1),(0,e.ref)("_self")),r=(0,e.ref)(""),i=(0,e.ref)(""),l=(0,e.ref)(!1),s=(0,e.computed)((()=>{let e=[];return l.value&&e.push("zion-inline-editor-button--active"),e.join(" ")}));function a(e){e.selectionChange&&c()}function c(){let e=t.editor.dom.getParent(t.editor.selection.getStart(),"a[href]");e?(o.value=e.target||"_self",r.value=e.getAttribute("href"),i.value=e.getAttribute("title"),l.value=!0):(r.value=null,i.value="",l.value=!1)}return(0,e.onMounted)((()=>{c(),t.editor.on("NodeChange",a)})),(0,e.onBeforeUnmount)((()=>{t.editor.off("NodeChange",a)})),{isPopOverVisible:n,linkTarget:o,linkUrl:r,linkTitle:i,selectOptions:[{id:"_self",name:"Self"},{id:"_blank",name:"New Window"}],buttonClasses:s,addLink:function(e=!0){r.value?t.editor.formatter.apply("link",{href:r.value,target:o.value,title:i.value}):t.editor.formatter.remove("link"),e&&(n.value=!1)},hasLink:l}}},Dr=(0,Eo.Z)(Tr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("Icon"),a=(0,e.resolveComponent)("BaseInput"),c=(0,e.resolveComponent)("InputWrapper"),u=(0,e.resolveComponent)("InputSelect"),d=(0,e.resolveComponent)("PopOver");return(0,e.openBlock)(),(0,e.createBlock)(d,{icon:"ite-link","full-size":!0},{default:(0,e.withCtx)((()=>[(0,e.createElementVNode)("div",Br,[(0,e.createVNode)(c,{title:t.$translate("add_a_link")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(a,{modelValue:r.linkUrl,"onUpdate:modelValue":n[0]||(n[0]=e=>r.linkUrl=e),clearable:!0,placeholder:"www.address.com",onKeyup:(0,e.withKeys)(r.addLink,["enter"])},{prepend:(0,e.withCtx)((()=>[(0,e.createVNode)(s,{icon:"link"})])),_:1},8,["modelValue","onKeyup"])])),_:1},8,["title"]),(0,e.createElementVNode)("div",Or,[(0,e.createVNode)(c,{title:t.$translate("target")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(u,{options:r.selectOptions,modelValue:r.linkTarget,"onUpdate:modelValue":n[1]||(n[1]=e=>r.linkTarget=e),placeholder:"Select target"},null,8,["options","modelValue"])])),_:1},8,["title"]),(0,e.createVNode)(c,{title:t.$translate("title")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(a,{modelValue:r.linkTitle,"onUpdate:modelValue":n[2]||(n[2]=e=>r.linkTitle=e),placeholder:"link_title",clearable:!0,onKeyup:(0,e.withKeys)(r.addLink,["enter"])},null,8,["modelValue","onKeyup"])])),_:1},8,["title"])])])])),_:1})}]]),Pr={name:"TextAlign",components:{InlineEditorButton:Sr,PopOver:_r},setup(t){const n=(0,e.inject)("ZionInlineEditor"),o=(0,e.ref)(!1);function r(){o.value=n.editor.formatter.matchAll(["alignleft","aligncenter","alignright","alignjustify"]).length>0}return(0,e.onBeforeMount)((()=>{r(),n.editor.on("NodeChange",r)})),(0,e.onBeforeUnmount)((()=>{n.editor.off("NodeChange",r)})),{isActive:o,buttons:[{formatter:"alignleft",icon:"align--left"},{formatter:"aligncenter",icon:"align--center"},{formatter:"alignright",icon:"align--right"},{formatter:"alignjustify",icon:"align--justify"}]}}},Ar=(0,Eo.Z)(Pr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("InlineEditorButton"),a=(0,e.resolveComponent)("PopOver");return(0,e.openBlock)(),(0,e.createBlock)(a,{icon:"ite-alignment","is-active":r.isActive},{default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.buttons,(t=>((0,e.openBlock)(),(0,e.createBlock)(s,{key:t.formatter,formatter:t.formatter,icon:t.icon},null,8,["formatter","icon"])))),128))])),_:1},8,["is-active"])}]]);const Nr={class:"zion-inline-editor-group"},Mr={class:"zion-inline-editor-slider-area"};var $r={setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),r=(0,e.ref)(!1),i=(0,e.ref)(null),l=(0,e.ref)(null);let s=null,a=!1;function c(e){a||u()}function u(){i.value=o.editor.queryCommandValue("FontSize")}return(0,e.onMounted)((()=>{u(),o.editor.on("SelectionChange",c)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("SelectionChange",c)})),{unitsExpanded:r,options:[{unit:"px",min:6,max:300,step:1,shiftStep:5},{unit:"%",min:1,max:100,step:1,shiftStep:5},{unit:"rem",min:1,max:6,step:1,shiftStep:1},{unit:"pt",min:1,max:60,step:1,shiftStep:1},{unit:"vh",min:1,max:100,step:5,shiftStep:1}],sliderValue:i,onClick:function(e){n("units-expanded",l.value?l.value.$refs.InputNumberUnit.expanded:null)},onFontChange:function(e){o.editor.formatter.apply("fontsize",{value:e}),i.value=e,n("started-dragging"),n("units-expanded",l.value?l.value.$refs.InputNumberUnit.expanded:null),l.value.$refs.InputNumberUnit.$refs.numberUnitInput.$refs.input.focus(),clearTimeout(s),s=setTimeout((()=>{a=!1}),100),a=!0},inputRangeDynamicRef:l}}};const Rr={class:"zion-inline-editor-slider-area"};var Ir={setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),r=(0,e.ref)(!1),i=(0,e.ref)(null),l=(0,e.ref)(null);let s=null,a=!1;function c(e){a||u()}function u(){i.value=window.getComputedStyle(o.editor.selection.getNode()).getPropertyValue("line-height")}return(0,e.onMounted)((()=>{o.editor.formatter.register("lineHeight",{selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",styles:{"line-height":"%value"}}),u(),o.editor.on("SelectionChange",c)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("SelectionChange",c)})),{unitsExpanded:r,options:[{unit:"px",min:1,max:400,step:1,shiftStep:5},{unit:"em",min:1,max:100,step:1,shiftStep:5},{unit:"%",min:1,max:100,step:1,shiftStep:5},{unit:"normal",min:null,max:null,step:null,shiftStep:null}],sliderValue:i,onClick:function(e){n("units-expanded",l.value?l.value.$refs.InputNumberUnit.expanded:null)},inputRangeDynamicRef:l,onHeightChange:function(e){o.editor.formatter.apply("lineHeight",{value:e}),i.value=e,n("started-dragging"),n("units-expanded",l.value?l.value.$refs.InputNumberUnit.expanded:null),l.value.$refs.InputNumberUnit.$refs.numberUnitInput.$refs.input.focus(),clearTimeout(s),s=setTimeout((()=>{a=!1}),100),a=!0}}}};const Lr={class:"zion-inline-editor-slider-area"};var Ur={setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),r=(0,e.ref)(null),i=(0,e.ref)(null);let l=!1,s=null;function a(e){l||c()}function c(){let e=window.getComputedStyle(o.editor.selection.getNode()).getPropertyValue("letter-spacing");r.value=e}return(0,e.onMounted)((()=>{o.editor.formatter.register("letterSpacing",{selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",styles:{"letter-spacing":"%value"}}),c(),o.editor.on("SelectionChange",a)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("SelectionChange",a)})),{onLetterChange:function(e){o.editor.formatter.apply("letterSpacing",{value:e}),r.value=e,n("started-dragging"),n("units-expanded",i.value?i.value.$refs.InputNumberUnit.expanded:null),i.value.$refs.InputNumberUnit.$refs.numberUnitInput.$refs.input.focus(),clearTimeout(s),s=setTimeout((()=>{l=!1}),100),l=!0},sliderValue:r,options:[{unit:"px",min:0,max:300,step:1,shiftStep:5},{unit:"rem",min:1,max:10,step:1,shiftStep:1},{unit:"normal",min:null,max:null,step:null,shiftStep:null}],onClick:function(e){n("units-expanded",i.value?i.value.$refs.InputNumberUnit.expanded:null)},inputRangeDynamicRef:i}}};const Fr={class:""},Zr={class:"zion-inline-editor__font-panel znpb-fancy-scrollbar"},Hr=["onClick"];var qr={setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),{fontsListForOption:r}=(0,Nt.useDataSets)(),i=(0,e.ref)(null);function l(e){s()}function s(){i.value=o.editor.queryCommandValue("fontname")}return(0,e.onMounted)((()=>{s(),o.editor.on("SelectionChange",l)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("SelectionChange",l)})),{fontsListForOption:r,isActive:function(e){return i.value===e?"zion-inline-editor__font-list-item--active":""},changeFont:function(e,t){i.value=e,o.editor.formatter.toggle("fontname",{value:e})}}}},Wr={name:"FontStyles",components:{"zion-inline-editor-font-size":(0,Eo.Z)($r,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("InputRangeDynamic");return(0,e.openBlock)(),(0,e.createElementBlock)("div",Mr,[(0,e.createVNode)(s,{"onUpdate:modelValue":r.onFontChange,modelValue:r.sliderValue,options:r.options,onClick:(0,e.withModifiers)(r.onClick,["stop"]),class:"zion-inline-editor-slider-area--slider",ref:"inputRangeDynamicRef"},null,8,["onUpdate:modelValue","modelValue","options","onClick"])])}]]),"zion-inline-editor-line-height":(0,Eo.Z)(Ir,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("InputRangeDynamic");return(0,e.openBlock)(),(0,e.createElementBlock)("div",Rr,[(0,e.createVNode)(s,{"onUpdate:modelValue":r.onHeightChange,modelValue:r.sliderValue,options:r.options,class:"zion-inline-editor-slider-area--slider",ref:"inputRangeDynamicRef"},null,8,["onUpdate:modelValue","modelValue","options"])])}]]),"zion-inline-editor-letter-spacing":(0,Eo.Z)(Ur,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("InputRangeDynamic");return(0,e.openBlock)(),(0,e.createElementBlock)("div",Lr,[(0,e.createVNode)(s,{"onUpdate:modelValue":r.onLetterChange,modelValue:r.sliderValue,options:r.options,onClick:(0,e.withModifiers)(r.onClick,["stop"]),class:"zion-inline-editor-slider-area--slider",ref:"inputRangeDynamicRef"},null,8,["onUpdate:modelValue","modelValue","options","onClick"])])}]]),"zion-inline-editor-button":Sr,FontList:(0,Eo.Z)(qr,[["render",function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createElementBlock)("div",Fr,[(0,e.createElementVNode)("ul",Zr,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.fontsListForOption,((t,n)=>((0,e.openBlock)(),(0,e.createElementBlock)("li",{key:n,onClick:e=>r.changeFont(t.id,e),class:(0,e.normalizeClass)(["zion-inline-editor__font-list-item",{"zion-inline-editor__font-list-item--active":r.isActive(t.id)}])},(0,e.toDisplayString)(t.name),11,Hr)))),128))])])}]]),PopOver:_r},setup(){const t=(0,e.ref)(!1),n=(0,e.computed)((()=>{let e=[];return t.value&&e.push("zion-inline-editor-button--active"),e.join(" ")}));return{isOpen:t,buttonClasses:n}}},Yr={name:"InlineEditor",components:{InlineEditorButton:Sr,ColorPicker:zr,FontWeight:Vr,PopOver:_r,PanelLink:Dr,TextAlign:Ar,FontStyle:(0,Eo.Z)(Wr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("FontList"),a=(0,e.resolveComponent)("Tab"),c=(0,e.resolveComponent)("zion-inline-editor-button"),u=(0,e.resolveComponent)("zion-inline-editor-font-size"),d=(0,e.resolveComponent)("zion-inline-editor-line-height"),p=(0,e.resolveComponent)("zion-inline-editor-letter-spacing"),m=(0,e.resolveComponent)("Tabs"),f=(0,e.resolveComponent)("PopOver");return(0,e.openBlock)(),(0,e.createBlock)(f,{icon:"ite-font","full-size":!0},{default:(0,e.withCtx)((()=>[(0,e.createElementVNode)("div",Nr,[(0,e.createVNode)(m,{"tab-style":"minimal"},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(a,{name:t.$translate("family")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(s)])),_:1},8,["name"]),(0,e.createVNode)(a,{name:t.$translate("heading"),class:"zion-inline-editor-group__heading"},{default:(0,e.withCtx)((()=>[(0,e.createElementVNode)("div",null,[(0,e.createVNode)(c,{formatter:"h1",buttontext:"H1"}),(0,e.createVNode)(c,{formatter:"h2",buttontext:"H2"}),(0,e.createVNode)(c,{formatter:"h3",buttontext:"H3"}),(0,e.createVNode)(c,{formatter:"h4",buttontext:"H4"}),(0,e.createVNode)(c,{formatter:"h5",buttontext:"H5"}),(0,e.createVNode)(c,{formatter:"h6",buttontext:"H6"})])])),_:1},8,["name"]),(0,e.createVNode)(a,{name:t.$translate("font_size")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(u)])),_:1},8,["name"]),(0,e.createVNode)(a,{name:t.$translate("line_height")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(d)])),_:1},8,["name"]),(0,e.createVNode)(a,{name:t.$translate("letter_spacing")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(p)])),_:1},8,["name"])])),_:1})])])),_:1})}]])},props:{modelValue:{type:String,required:!1},forcedRootNode:{type:[Boolean,String],default:""}},setup(t,{emit:n}){let o={editor:null};const{isPreviewMode:r}=(0,$t.usePreviewMode)(),{modelValue:i}=(0,e.toRefs)(t),l=(0,e.ref)(null),s=(0,e.ref)(null),a=(0,e.ref)(!1),c=(0,e.ref)(!1),u=(0,e.ref)(!1),d=(0,e.ref)(!0),p=(0,e.ref)(!1),m=(0,e.ref)(!1),f=(0,e.ref)({}),h=(0,e.ref)(0),g=(0,e.ref)(0),v=(0,e.ref)(0),b=(0,e.ref)({offsetY:75,offsetX:null,posX:null,posY:null});(0,e.provide)("ZionInlineEditor",o);const y=(0,e.computed)((()=>({transform:`translate(${b.value.posX}px, ${b.value.posY}px)`})));function w(){n("update:modelValue",o.editor.getContent())}function _(){setTimeout((()=>{m.value=!1}),300)}function C(e){b.value={posX:h.value+e.pageX-f.value.posX,posY:g.value+e.pageY-f.value.posY-v.value}}function S(e){h.value=b.value.posX,g.value=b.value.posY,d.value=!function(){let e=function(){if(s.value)return s.value.getBoundingClientRect()}();if(e)return e.x<40}(),document.body.style.userSelect=null,window.removeEventListener("mouseup",S),window.removeEventListener("mousemove",C),u.value=!1}function E(e){27===e.keyCode&&(k(),e.stopImmediatePropagation())}function k(){c.value=!1}return(0,e.watch)(c,(e=>{e?setTimeout((()=>{document.addEventListener("keydown",E,!0),document.addEventListener("scroll",k)}),10):(document.removeEventListener("keydown",E,!0),document.removeEventListener("scroll",k,!0))})),(0,e.onMounted)((()=>{void 0!==window.tinyMCE&&window.tinyMCE.init({target:l.value,entity_encoding:"raw",toolbar:!1,menubar:!1,selection_toolbar:!1,inline:!0,object_resizing:!1,setup:n=>{n.on("init",(r=>{a.value=!0,o.editor=n,n.setContent(t.modelValue),(0,e.watch)(i,((e,t)=>{o.editor&&"string"==typeof e&&e!==t&&e!==o.editor.getContent()&&o.editor.setContent(e)}))})),n.on("change input undo redo",w)},forced_root_block:"",formats:{fontSize:{selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"znpb-fontsize",styles:{fontSize:"%value"}},fontWeight:{inline:"span",selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"znpb-fontweight",styles:{fontWeight:"%value"}},uppercase:{selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"znpb-uppercase",styles:{textTransform:"uppercase"}},blockquote:{block:"blockquote",wrapper:!0,classes:"znpb-blockquote",exact:!0},italic:{inline:"i",exact:!0}}})})),(0,e.onBeforeUnmount)((()=>{void 0!==window.tinyMCE&&o.editor&&window.tinyMCE.remove(o.editor)})),{isPreviewMode:r,inlineEditorRef:l,tooltipContentRef:s,showEditor:c,tinyMceReady:a,isDragging:u,dragButtonOnScreen:d,barStyles:y,onColorPickerOpen:function(){l.value.classList.add("mce-content-body--selection-transparent")},onColorPickerClose:function(){l.value.classList.remove("mce-content-body--selection-transparent")},onUnitsExpanded:function(e){p.value=e},onStartedSliderDragging:function(){document.addEventListener("mouseup",_),m.value=!0},startDrag:function(e){window.addEventListener("mouseup",S),window.addEventListener("mousemove",C),document.body.style.userSelect="none",f.value={posX:e.clientX,posY:e.clientY},u.value=!0,v.value=window.pageYOffset},checkTextSelection:function(){window.getSelection().toString().length>0&&(c.value=!0)}}}},Xr=(0,Eo.Z)(Yr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("Icon"),a=(0,e.resolveComponent)("FontStyle"),c=(0,e.resolveComponent)("FontWeight"),u=(0,e.resolveComponent)("InlineEditorButton"),d=(0,e.resolveComponent)("PanelLink"),p=(0,e.resolveComponent)("ColorPicker"),m=(0,e.resolveComponent)("TextAlign"),f=(0,e.resolveComponent)("Tooltip");return(0,e.openBlock)(),(0,e.createBlock)(f,{class:"znpb-inline-editor__wrapper_all","tooltip-class":"znpb-inline-editor__wrapper hg-popper--no-padding hg-popper--no-bg",trigger:null,placement:"top","append-to":"body","show-arrows":!1,show:r.showEditor,onHide:n[6]||(n[6]=e=>r.showEditor=!1),strategy:"fixed","close-on-outside-click":!0,"hide-on-escape":!0,ref:"inlineEditorWrapper"},{content:(0,e.withCtx)((()=>[!r.isPreviewMode&&r.tinyMceReady?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["zion-inline-editor zion-inline-editor-container",{"zion-inline-editor--dragging":r.isDragging}]),style:(0,e.normalizeStyle)(r.barStyles),ref:"tooltipContentRef",onMousedown:n[2]||(n[2]=(0,e.withModifiers)((()=>{}),["stop"]))},[(0,e.createCommentVNode)("Normally positioned drag button"),r.dragButtonOnScreen?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"zion-inline-editor-dragbutton",ref:"dragButton",onMousedown:n[0]||(n[0]=(0,e.withModifiers)(((...e)=>r.startDrag&&r.startDrag(...e)),["stop"]))},[(0,e.createVNode)(s,{icon:"ite-move"})],544)):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Fonts & text style panel "),(0,e.createVNode)(a),(0,e.createCommentVNode)(" Bold popover "),(0,e.createVNode)(c),(0,e.createCommentVNode)(" Italic button "),(0,e.createVNode)(u,{formatter:"italic",icon:"ite-italic"}),(0,e.createCommentVNode)(" Underline button "),(0,e.createVNode)(u,{formatter:"underline",icon:"ite-underline"}),(0,e.createCommentVNode)(" Uppercase button "),(0,e.createVNode)(u,{formatter:"uppercase",icon:"ite-uppercase"}),(0,e.createCommentVNode)(" Link button "),(0,e.createVNode)(d),(0,e.createCommentVNode)(" Quote button "),(0,e.createVNode)(u,{formatter:"blockquote",icon:"ite-quote"}),(0,e.createCommentVNode)(" Color Picker "),(0,e.createVNode)(p,{onCloseColorPicker:r.onColorPickerClose,onOpenColorPicker:r.onColorPickerOpen},null,8,["onCloseColorPicker","onOpenColorPicker"]),(0,e.createCommentVNode)(" Text align button "),(0,e.createVNode)(m),(0,e.createCommentVNode)("Alternatively positioned drag button (if the normal one is out of bounds)"),r.dragButtonOnScreen?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,class:"zion-inline-editor-dragbutton",onMousedown:n[1]||(n[1]=(0,e.withModifiers)(((...e)=>r.startDrag&&r.startDrag(...e)),["stop"]))},[(0,e.createVNode)(s,{icon:"more",rotate:90})],32))],38)):(0,e.createCommentVNode)("v-if",!0)])),default:(0,e.withCtx)((()=>[(0,e.createElementVNode)("div",{ref:"inlineEditorRef",class:(0,e.normalizeClass)(["znpb-inline-text-editor",{"znpb-inline-text-editor--preview":r.isPreviewMode}]),onMouseup:n[3]||(n[3]=(...e)=>r.checkTextSelection&&r.checkTextSelection(...e)),onDblclick:n[4]||(n[4]=(0,e.withModifiers)((e=>r.showEditor=!0),["stop"])),onKeydown:n[5]||(n[5]=(0,e.withModifiers)((()=>{}),["stop"])),contenteditable:!r.isPreviewMode},null,42,yr)])),_:1},8,["show"])}]]);const Kr=["innerHTML"],Jr=["src"];var Gr={name:"RenderValue",inheritAttrs:!1,props:{option:{type:String,required:!0},htmlTag:{type:String,required:!1,default:"span"}},setup(t){const n=(0,e.inject)("elementInfo"),o=(0,e.inject)("elementOptions"),i=(0,e.computed)((()=>n.elementTypeModel.options)),l=(0,e.computed)((()=>s.value.type)),s=(0,e.computed)((()=>{const e=t.option.split(".");let n=i.value;const o=e.length;let r=null;return e.forEach(((e,t)=>{t+1===o?r=n[e]:n[e]?n=n[e]:console.error(`schema could not be found for ${this.option}`)})),r})),a=(0,e.computed)((()=>{const e=t.option.split(".");let o=n.options;const r=e.length;let i=!1;return e.forEach(((n,l)=>{if(l===r-1){if("object"==typeof o.__dynamic_content__){const t=e[e.length-1];i=o.__dynamic_content__[t]}}else o[n]?o=o[n]:console.error(`model could not be found for ${t.option}`)})),i})),c=(0,e.computed)((()=>"editor"!==l.value||a.value?a.value?"dynamic_html":"icon_library"===l.value?"icon":"image"===l.value?"image":"default":n.isDisabled?"dynamic_html":"editor")),u=(0,e.computed)({get(){const e=s.value;return(0,r.getOptionValue)(o.value,t.option,e.default)},set(e){n.updateOptionValue(t.option,e)}});return{elementInfo:n,elementOptions:o,renderType:c,optionValue:u}}},Qr=(0,Eo.Z)(Gr,[["render",function(t,n,o,r,i,l){const s=(0,e.resolveComponent)("InlineEditor"),a=(0,e.resolveComponent)("ElementIcon");return"editor"===r.renderType?((0,e.openBlock)(),(0,e.createBlock)(s,(0,e.mergeProps)({key:0,modelValue:r.optionValue,"onUpdate:modelValue":n[0]||(n[0]=e=>r.optionValue=e)},t.$attrs),null,16,["modelValue"])):"dynamic_html"===r.renderType?((0,e.openBlock)(),(0,e.createElementBlock)("span",(0,e.mergeProps)({key:1,innerHTML:r.optionValue},t.$attrs),null,16,Kr)):"icon"===r.renderType?((0,e.openBlock)(),(0,e.createBlock)(a,(0,e.mergeProps)({key:2,iconConfig:r.optionValue},t.$attrs),null,16,["iconConfig"])):"image"===r.renderType?((0,e.openBlock)(),(0,e.createElementBlock)("img",(0,e.mergeProps)({key:3,src:r.optionValue},t.$attrs),null,16,Jr)):((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(o.htmlTag),(0,e.normalizeProps)((0,e.mergeProps)({key:4},t.$attrs)),{default:(0,e.withCtx)((()=>[(0,e.createTextVNode)((0,e.toDisplayString)(r.optionValue),1)])),_:1},16))}]]);const ei=["data-znpbiconfam","data-znpbicon"];var ti={name:"ElementIcon",props:{iconConfig:{type:Object,required:!1,default:()=>({family:"Font Awesome 5 Brands Regular",name:"wordpress-simple",unicode:"uf411"})}},setup:t=>({iconUnicode:(0,e.computed)((()=>JSON.parse(`"\\${t.iconConfig.unicode}"`).trim()))})},ni=(0,Eo.Z)(ti,[["render",function(t,n,o,r,i,l){return o.iconConfig?((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:0,"data-znpbiconfam":o.iconConfig.family,"data-znpbicon":r.iconUnicode},null,8,ei)):(0,e.createCommentVNode)("v-if",!0)}]]);const oi=(0,e.createVNode)(br),ri=window.parent.zb.editor.appInstance,ii=ri._context;ri.component("Element",fr),ri.component("ElementWrapper",pr),ri.component("InlineEditor",Xr),ri.component("SortableContent",gr),ri.component("RenderValue",Qr),ri.component("ElementIcon",ni),oi.appContext=ii;const{editorData:li}=(0,$t.useEditorData)(),si=document.getElementById(`znpb-preview-${li.value.page_id}-area`);si&&(0,e.render)(oi,si),window.addEventListener("unload",(t=>{si&&(0,e.render)(null,si)}))}(),(window.zb=window.zb||{}).preview=o}();