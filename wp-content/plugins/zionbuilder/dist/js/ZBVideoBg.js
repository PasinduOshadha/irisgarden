!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ZBVideoBg=e():t.ZBVideoBg=e()}(self,(function(){return function(){var t={d:function(e,o){for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var e;t.g.importScripts&&(e=t.g.location+"");var o=t.g.document;if(!e&&o&&(o.currentScript&&(e=o.currentScript.src),!e)){var i=o.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"}();var e={};return t.p=window.zionBuilderPaths.zionbuilder,function(){"use strict";t.d(e,{default:function(){return i}});let o=0;class i{constructor(t,e={}){this.options={autoplay:!0,muted:!0,loop:!0,local_sources:{},controlsPosition:"bottom-left",controls:e.controls||!0,videoSource:"local",responsive:!1,...e},this.domNode=t,this.videoIndex=o++,this.domNode.classList.add("hg-video-bg__wrappper");const i=document.createElement("div");i.className="hg-video-bg__container",i.id=`hg-video-bg--${this.videoIndex}`,this.videoInstance=new ZBVideo(i,{...this.options,controls:!1,background:!0}),this.videoInstance.on("video_ready",this.onVideoReady.bind(this)),this.videoContainer=this.domNode.appendChild(i)}onVideoReady(){this.options.autoplay&&(this.playing=!0,this.domNode.classList.add("hg-video-bg--playing")),this.options.muted&&(this.muted=!0,this.domNode.classList.add("hg-video-bg--muted")),this.options.controls&&(this.controlsWrapper=this.getControlsHTML(),this.domNode.appendChild(this.controlsWrapper)),this.onResizeCallback=this.onWindowResize.bind(this),"local"!==this.videoSource&&this.initResizer()}initResizer(){window.addEventListener("resize",this.onResizeCallback),this.onWindowResize()}onWindowResize(){const t=1.78,{width:e,height:o}=this.domNode.getBoundingClientRect();let i,s;e===o?(i=e*t,s=o*t):e<o?(i=o*t,s=o):(i=e,s=e*t);const n=this.videoInstance.getVideoContainer();n.style.width=`${i}px`,n.style.height=`${s}px`}getControlsHTML(){const t=document.createElement("div");t.className="hg-video-bg__controls",t.dataset.position=this.options.controlsPosition;const e=document.createElement("span");e.className="hg-video-bg__controls-button hg-video-bg__controls-button--play",e.innerHTML='\n\t\t\t<svg class="zb-icon hg-video-bg__controls-button--svg-play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M15.1 16.3 42.5 32 15.1 47.7V16.3M8.7 5.1v53.8L55.3 32 8.7 5.1z"/></svg>\n\t\t\t<svg class="zb-icon hg-video-bg__controls-button--svg-pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M11.5 10.9h10.2v42.2H11.5V10.9zm30.7 0h10.2v42.2H42.2V10.9z"/></svg>\n\t\t';const o=document.createElement("span");return o.className="hg-video-bg__controls-button hg-video-bg__controls-button--mute",o.innerHTML='\n\t\t\t<svg class="zb-icon hg-video-bg__controls-button--svg-mute" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M24.7 16.3v31.6l-10.1-5.8-1.5-.9H6.4V22.9h6.7l1.5-.9 10.1-5.7m6.4-11.2L11.4 16.5H0v31h11.4l19.7 11.4V5.1zM64 23.8l-4.5-4.5-8.2 8.2-8.2-8.2-4.5 4.5 8.1 8.2-8.1 8.2 4.5 4.5 8.2-8.2 8.2 8.2 4.5-4.5-8.2-8.2 8.2-8.2z"/></svg>\n\t\t\t<svg class="zb-icon hg-video-bg__controls-button--svg-unmute" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M24.7 16.3v31.6l-10.1-5.8-1.6-.9H6.4V22.9H13l1.5-.9 10.2-5.7m6.4-11.2L11.4 16.5H0v31h11.4l19.7 11.4V5.1zM53 58.6l-4.5-4.5c12.2-12.2 12.2-32 0-44.1L53 5.5c14.7 14.6 14.7 38.4 0 53.1zm-10.5-8.7L38 45.4c7.4-7.4 7.4-19.3 0-26.7l4.5-4.5c9.8 9.7 9.8 25.9 0 35.7z"/></svg>\n\t\t',t.appendChild(e),t.appendChild(o),o.addEventListener("click",this.toggleMute.bind(this)),e.addEventListener("click",this.togglePlay.bind(this)),t}play(){this.videoInstance.play(),this.playing=!0,this.domNode.classList.add("hg-video-bg--playing")}pause(){this.videoInstance.pause(),this.playing=!1,this.domNode.classList.remove("hg-video-bg--playing")}togglePlay(){this.playing?this.pause():this.play()}mute(){this.videoInstance.mute(),this.muted=!0,this.domNode.classList.add("hg-video-bg--muted")}unMute(){this.videoInstance.unMute(),this.muted=!1,this.domNode.classList.remove("hg-video-bg--muted")}toggleMute(){this.muted?this.unMute():this.mute()}destroy(){for(this.videoInstance=null;this.domNode.firstChild;)this.domNode.removeChild(this.domNode.firstChild);window.removeEventListener("resize",this.onResizeCallback)}}jQuery("document").ready((function(){jQuery(".zbjs_video_background").each(((t,e)=>{const o=jQuery(e),s=e.dataset.zionVideoBackground,n=JSON.parse(s);new i(e,n),o.zionVideoBackgroundConfig=s}))}))}(),e.default}()}));